(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8c4a16ce"],{"01f4":function(t,e,i){"use strict";var o=i("c2d3"),r=i("4334"),n=i("6c77"),s=i("8682"),a=i("5831"),h=i("83a6"),c=i("ce2c"),l=i("3e6b"),u=i("f403"),p=i("4cdf"),d=i("7a09"),f=i("9eba"),y=(i("c52d"),function(t){t||(t={}),r["a"].call(this,{handleEvent:function(t){switch(t.type){case"singleclick":return this.handleDownEvent(t);case"pointermove":return this.handleMoveEvent(t);default:return!0}}}),this.snapDistance_=t.snapDistance||25,this.tolerance_=t.tolerance||1e-10,this.cursor_=t.cursor,this.sources_=t.sources?t.sources instanceof Array?t.sources:[t.sources]:[],t.features&&this.sources_.push(new a["a"]({features:t.features})),this.filterSplit_=t.filter||function(){return!0};var e=[255,255,255,1],i=[0,153,255,1],o=3,u=new h["a"]({color:"rgba(255,255,255,0.4)"}),p=new s["a"]({color:"#3399CC",width:1.25}),d=[new n["c"]({image:new c["a"]({fill:u,stroke:p,radius:5}),fill:u,stroke:p})],f=[new n["c"]({stroke:new s["a"]({color:e,width:o+2})}),new n["c"]({image:new c["a"]({radius:2*o,fill:new h["a"]({color:i}),stroke:new s["a"]({color:e,width:o/2})}),stroke:new s["a"]({color:i,width:o})})];t.sketchStyle&&(d=t.sketchStyle instanceof Array?t.sketchStyle:[t.sketchStyle]),t.featureStyle&&(f=t.featureStyle instanceof Array?t.featureStyle:[t.featureStyle]),this.overlayLayer_=new l["a"]({source:new a["a"]({useSpatialIndex:!1}),name:"Split overlay",displayInLayerSwitcher:!1,style:function(t){return t._sketch_?d:f}})});Object(o["a"])(y,r["a"]),y.prototype.setMap=function(t){this.getMap()&&this.getMap().removeLayer(this.overlayLayer_),r["a"].prototype.setMap.call(this,t),this.overlayLayer_.setMap(t)},y.prototype.getClosestFeature=function(t){var e,i,o,r,n=this.snapDistance_+1;if(this.sources_.forEach((function(s){var a=s.getClosestFeatureToCoordinate(t.coordinate);if(a&&a.getGeometry().splitAt){var h=a.getGeometry().getClosestPoint(t.coordinate),c=new d["a"]([t.coordinate,h]),l=c.getLength()/t.frameState.viewState.resolution;l<n&&(e=s,n=l,i=a,r=c,o=h)}})),n>this.snapDistance_)return!1;var s=this.getNearestCoord(o,i.getGeometry().getCoordinates()),a=this.getMap().getPixelFromCoordinate(s);return Object(f["a"])(t.pixel,a)<this.snapDistance_&&(o=s),{source:e,feature:i,coord:o,link:r}},y.prototype.getNearestCoord=function(t,e){for(var i,o,r=Number.MAX_VALUE,n=0;n<e.length;n++)i=Object(f["a"])(t,e[n]),i<r&&(r=i,o=e[n]);return o},y.prototype.handleDownEvent=function(t){var e=this.getClosestFeature(t);if(e){var i=this;i.overlayLayer_.getSource().clear();var o,r=e.feature.getGeometry().splitAt(e.coord,this.tolerance_);if(r.length>1){var n=[];for(o=0;o<r.length;o++){var s=e.feature.clone();s.setGeometry(r[o]),n.push(s)}for(i.dispatchEvent({type:"beforesplit",original:e.feature,features:n}),e.source.dispatchEvent({type:"beforesplit",original:e.feature,features:n}),e.source.removeFeature(e.feature),o=0;o<n.length;o++)e.source.addFeature(n[o]);i.dispatchEvent({type:"aftersplit",original:e.feature,features:n}),e.source.dispatchEvent({type:"aftersplit",original:e.feature,features:n})}}return!1},y.prototype.handleMoveEvent=function(t){var e=t.map;this.overlayLayer_.getSource().clear();var i,o,r=this.getClosestFeature(t);r&&this.filterSplit_(r.feature)?(this.overlayLayer_.getSource().addFeature(r.feature),i=new p["a"](new u["a"](r.coord)),i._sketch_=!0,this.overlayLayer_.getSource().addFeature(i),o=new p["a"](r.link),o._sketch_=!0,this.overlayLayer_.getSource().addFeature(o),this.dispatchEvent({type:"pointermove",coordinate:t.coordinate,frameState:t.frameState,originalEvent:t.originalEvent,map:t.map,pixel:t.pixel,feature:r.feature,linkGeometry:r.link})):this.dispatchEvent(t);var n=e.getTargetElement();this.cursor_&&(r?n.style.cursor!=this.cursor_&&(this.previousCursor_=n.style.cursor,n.style.cursor=this.cursor_):void 0!==this.previousCursor_&&(n.style.cursor=this.previousCursor_,this.previousCursor_=void 0))},e["a"]=y},"0b2d":function(t,e,i){"use strict";var o=i("01d4");e["a"]={SINGLECLICK:"singleclick",CLICK:o["a"].CLICK,DBLCLICK:o["a"].DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},"183a":function(t,e,i){"use strict";e["a"]={ADD:"add",REMOVE:"remove"}},"25c1":function(t,e,i){"use strict";var o=function(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0};o.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},o.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},o.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;var i=e-3;while(i>0&&this.points_[i+2]>t)i-=3;var o=this.points_[e+2]-this.points_[i+2];if(o<1e3/60)return!1;var r=this.points_[e]-this.points_[i],n=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(n,r),this.initialVelocity_=Math.sqrt(r*r+n*n)/o,this.initialVelocity_>this.minVelocity_},o.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},o.prototype.getAngle=function(){return this.angle_},e["a"]=o},"35a7":function(t,e,i){"use strict";i.d(e,"b",(function(){return a}));var o=i("1e8d"),r=i("0ec0"),n=i("01d4"),s=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(n["a"].CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var i=t.length,r=new Array(i),n=0;n<i;++n)r[n]=Object(o["a"])(this,t[n],e);return r}return Object(o["a"])(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var i=t.length,r=new Array(i),n=0;n<i;++n)r[n]=Object(o["b"])(this,t[n],e);return r}return Object(o["b"])(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var i=0,r=t.length;i<r;++i)Object(o["c"])(this,t[i],e);else Object(o["c"])(this,t,e)},e}(r["a"]);function a(t){if(Array.isArray(t))for(var e=0,i=t.length;e<i;++e)Object(o["e"])(t[e]);else Object(o["e"])(t)}e["a"]=s},"496f":function(t,e,i){"use strict";e["a"]={ANIMATING:0,INTERACTING:1}},"4cdf":function(t,e,i){"use strict";var o=i("92fa"),r=i("1e8d"),n=i("01d4"),s=i("e269"),a=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Object(r["a"])(this,Object(s["b"])(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"===typeof e.getSimplifiedGeometry){var i=e;this.setGeometry(i)}else{var o=e;this.setProperties(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&t.setGeometry(i.clone());var o=this.getStyle();return o&&t.setStyle(o),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(r["e"])(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(r["a"])(t,n["a"].CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?h(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){Object(r["c"])(this,Object(s["b"])(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Object(r["a"])(this,Object(s["b"])(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(s["a"]);function h(t){if("function"===typeof t)return t;var e;if(Array.isArray(t))e=t;else{Object(o["a"])("function"===typeof t.getZIndex,41);var i=t;e=[i]}return function(){return e}}e["a"]=a},"509b":function(t,e,i){"use strict";var o=i("7238"),r=function(t){function e(e,i,o,r,n){t.call(this,e,i,n),this.originalEvent=o,this.pixel=i.getEventPixel(o),this.coordinate=i.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(o["a"]);e["a"]=r},"592d":function(t,e,i){"use strict";e["a"]={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},"5dec":function(t,e,i){"use strict";e["a"]={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},"5e31":function(t,e,i){"use strict";var o=i("acc1"),r=i("ca42"),n=i("0ec0"),s=i("01d4"),a=function(t){function e(e,i,o){t.call(this);var r=o||{};this.tileCoord=e,this.state=i,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(s["a"].CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==o["a"].LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==o["a"].LOADED){t.interimTile=null;break}t.getState()==o["a"].LOADING?e=t:t.getState()==o["a"].IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var o=e-i+1e3/60;return o>=this.transition_?1:Object(r["a"])(o/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(n["a"]);e["a"]=a},"5eee":function(t,e,i){"use strict";var o=i("1300"),r=i("e300"),n=i("183a"),s=i("509b"),a=i("617d"),h=i("0b2d"),c=i("de46"),l=i("1e8d"),u=i("0ec0"),p=i("d079"),d=i("b114"),f=function(t){function e(e,i){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i?i*a["b"]:a["b"],this.down_=null;var o=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new d["a"](o),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=Object(l["a"])(this.pointerEventHandler_,p["a"].POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=Object(l["a"])(this.pointerEventHandler_,p["a"].POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new c["a"](h["a"].CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new c["a"](h["a"].DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new c["a"](h["a"].SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==h["a"].POINTERUP||e.type==h["a"].POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==h["a"].POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new c["a"](h["a"].POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(l["e"]),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new c["a"](h["a"].POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new d["a"](document),this.dragListenerKeys_.push(Object(l["a"])(this.documentPointerEventHandler_,h["a"].POINTERMOVE,this.handlePointerMove_,this),Object(l["a"])(this.documentPointerEventHandler_,h["a"].POINTERUP,this.handlePointerUp_,this),Object(l["a"])(this.pointerEventHandler_,h["a"].POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new c["a"](h["a"].POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new c["a"](t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(l["e"])(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(l["e"])(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(l["e"]),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(u["a"]),y=f,_=i("7238"),g=i("592d"),v={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},m=i("070d"),E=i("e269"),b=i("7b4f"),w=i("acc1"),C=i("01d4"),O=i("dc10"),R=function(t){function e(e,i){t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()})),this.tileChangeCallback_=i,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var i=t.prototype.enqueue.call(this,e);if(i){var o=e[0];Object(l["a"])(o,C["a"].CHANGE,this.handleTileChange,this)}return i},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===w["a"].LOADED||i===w["a"].ERROR||i===w["a"].EMPTY||i===w["a"].ABORT){Object(l["c"])(e,C["a"].CHANGE,this.handleTileChange,this);var o=e.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){var i,o,r,n=0,s=!1;while(this.tilesLoading_<t&&n<e&&this.getCount()>0)o=this.dequeue()[0],r=o.getKey(),i=o.getState(),i===w["a"].ABORT?s=!0:i!==w["a"].IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++n,o.load());0===n&&s&&this.tileChangeCallback_()},e}(O["b"]),T=R,L=i("a2c7"),x=i("496f"),A=i("92fa"),S=i("0999"),M=i("cef7"),P=i("0af5"),k=i("57cb"),I=i("9c78"),j=i("345d"),F=i("a896"),N=function(t){function e(e){t.call(this);var i=G(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:a["b"],this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=Object(F["c"])(),this.pixelToCoordinateTransform_=Object(F["c"])(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(a["h"]?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var o=[C["a"].CLICK,C["a"].DBLCLICK,C["a"].MOUSEDOWN,C["a"].TOUCHSTART,C["a"].MSPOINTERDOWN,h["a"].POINTERDOWN,C["a"].MOUSEWHEEL,C["a"].WHEEL],s=0,c=o.length;s<c;++s)Object(l["a"])(this.overlayContainerStopEvent_,o[s],M["b"]);for(var u in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new y(this,e.moveTolerance),h["a"])Object(l["a"])(this.mapBrowserEventHandler_,h["a"][u],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=i.keyboardEventTarget,this.keyHandlerKeys_=null,Object(l["a"])(this.viewport_,C["a"].CONTEXTMENU,this.handleBrowserEvent,this),Object(l["a"])(this.viewport_,C["a"].WHEEL,this.handleBrowserEvent,this),Object(l["a"])(this.viewport_,C["a"].MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=i.controls||new r["a"],this.interactions=i.interactions||new r["a"],this.overlays_=i.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new T(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},Object(l["a"])(this,Object(E["b"])(v.LAYERGROUP),this.handleLayerGroupChanged_,this),Object(l["a"])(this,Object(E["b"])(v.VIEW),this.handleViewChanged_,this),Object(l["a"])(this,Object(E["b"])(v.SIZE),this.handleSizeChanged_,this),Object(l["a"])(this,Object(E["b"])(v.TARGET),this.handleTargetChanged_,this),this.setProperties(i.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),Object(l["a"])(this.controls,n["a"].ADD,(function(t){t.element.setMap(this)}),this),Object(l["a"])(this.controls,n["a"].REMOVE,(function(t){t.element.setMap(null)}),this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),Object(l["a"])(this.interactions,n["a"].ADD,(function(t){t.element.setMap(this)}),this),Object(l["a"])(this.interactions,n["a"].REMOVE,(function(t){t.element.setMap(null)}),this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),Object(l["a"])(this.overlays_,n["a"].ADD,(function(t){this.addOverlayInternal_(t.element)}),this),Object(l["a"])(this.overlays_,n["a"].REMOVE,(function(t){var e=t.element,i=e.getId();void 0!==i&&delete this.overlayIdIndex_[i.toString()],t.element.setMap(null)}),this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var e=this.getLayerGroup().getLayers();e.push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Object(l["c"])(this.viewport_,C["a"].CONTEXTMENU,this.handleBrowserEvent,this),Object(l["c"])(this.viewport_,C["a"].WHEEL,this.handleBrowserEvent,this),Object(l["c"])(this.viewport_,C["a"].MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(C["a"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,i){if(this.frameState_){var o=this.getCoordinateFromPixel(t);i=void 0!==i?i:{};var r=void 0!==i.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,n=void 0!==i.layerFilter?i.layerFilter:k["b"];return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,r,e,null,n,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var i=null;return this.forEachFeatureAtPixel(t,(function(t){i||(i=[]),i.push(t)}),e),i},e.prototype.forEachLayerAtPixel=function(t,e,i){if(this.frameState_){var o=i||{},r=void 0!==o.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,n=o.layerFilter||k["b"];return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,null,n,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixel(t);e=void 0!==e?e:{};var o=void 0!==e.layerFilter?e.layerFilter:k["b"],r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,r,o,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},e.prototype.getTarget=function(){return this.get(v.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"===typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Object(F["a"])(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(v.LAYERGROUP)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Object(F["a"])(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(v.SIZE)},e.prototype.getView=function(){return this.get(v.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,i,o){var r=this.frameState_;if(!r||!(e in r.wantedTiles))return O["a"];if(!r.wantedTiles[e][t.getKey()])return O["a"];var n=i[0]-r.focus[0],s=i[1]-r.focus[1];return 65536*Math.log(o)+Math.sqrt(n*n+s*s)/o},e.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,o=new s["a"](i,this,t);this.handleMapBrowserEvent(o)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=e.length-1;i>=0;i--){var o=e[i];if(o.getActive()){var r=o.handleEvent(t);if(!r)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,o=i;if(t){var r=t.viewHints;r[x["a"].ANIMATING]&&(i=this.loadTilesWhileAnimating_?8:0,o=2),r[x["a"].INTERACTING]&&(i=this.loadTilesWhileInteracting_?8:0,o=2)}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,o))}!t||!this.hasListener(m["a"].RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||K(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(m["a"].RENDERCOMPLETE,t);for(var n=this.postRenderFunctions_,s=0,a=n.length;s<a;++s)n[s](this,t);n.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,i=this.keyHandlerKeys_.length;e<i;++e)Object(l["e"])(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var o=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(l["a"])(o,C["a"].KEYDOWN,this.handleBrowserEvent,this),Object(l["a"])(o,C["a"].KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(C["a"].RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Object(S["c"])(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(C["a"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(l["e"])(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(l["e"])(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Object(o["c"])(t)),this.viewPropertyListenerKey_=Object(l["a"])(t,b["a"].PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(l["a"])(t,C["a"].CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(l["e"]),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(l["a"])(t,b["a"].PROPERTYCHANGE,this.render,this),Object(l["a"])(t,C["a"].CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var e=this.getLayerGroup().getLayers();return e.remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,i=this.getSize(),r=this.getView(),n=Object(P["j"])(),s=this.frameState_,a=null;if(void 0!==i&&Object(j["a"])(i)&&r&&r.isDef()){for(var h=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),c=this.getLayerGroup().getLayerStatesArray(),l={},u=0,p=c.length;u<p;++u)l[Object(o["c"])(c[u].layer)]=c[u];e=r.getState(this.pixelRatio_),a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:n,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:l,layerStatesArray:c,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:h,wantedTiles:{}}}if(a&&(a.extent=Object(P["z"])(e.center,e.resolution,e.rotation,a.size,n)),this.frameState_=a,this.renderer_.renderFrame(a),a){if(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s){var d=!this.previousExtent_||!Object(P["H"])(this.previousExtent_)&&!Object(P["p"])(a.extent,this.previousExtent_);d&&(this.dispatchEvent(new _["a"](g["a"].MOVESTART,this,s)),this.previousExtent_=Object(P["l"])(this.previousExtent_))}var f=this.previousExtent_&&!a.viewHints[x["a"].ANIMATING]&&!a.viewHints[x["a"].INTERACTING]&&!Object(P["p"])(a.extent,this.previousExtent_);f&&(this.dispatchEvent(new _["a"](g["a"].MOVEEND,this,a)),Object(P["d"])(a.extent,this.previousExtent_))}this.dispatchEvent(new _["a"](g["a"].POSTRENDER,this,a)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(v.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(v.SIZE,t)},e.prototype.setTarget=function(t){this.set(v.TARGET,t)},e.prototype.setView=function(t){this.set(v.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[Object(o["c"])(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e["borderLeftWidth"])-parseFloat(e["paddingLeft"])-parseFloat(e["paddingRight"])-parseFloat(e["borderRightWidth"]),t.offsetHeight-parseFloat(e["borderTopWidth"])-parseFloat(e["paddingTop"])-parseFloat(e["paddingBottom"])-parseFloat(e["borderBottomWidth"])])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[Object(o["c"])(t)],this.render()},e}(E["a"]);function G(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,o,n,s={},a=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new I["a"]({layers:t.layers});return s[v.LAYERGROUP]=a,s[v.TARGET]=t.target,s[v.VIEW]=void 0!==t.view?t.view:new L["a"],void 0!==t.controls&&(Array.isArray(t.controls)?i=new r["a"](t.controls.slice()):(Object(A["a"])("function"===typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new r["a"](t.interactions.slice()):(Object(A["a"])("function"===typeof t.interactions.getArray,48),o=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?n=new r["a"](t.overlays.slice()):(Object(A["a"])("function"===typeof t.overlays.getArray,49),n=t.overlays):n=new r["a"],{controls:i,interactions:o,keyboardEventTarget:e,overlays:n,values:s}}var D=N;function K(t){for(var e=0,i=t.length;e<i;++e){var o=t[e];if("function"===typeof o.getLayers)return K(o.getLayers().getArray());var r=o.getSource();if(r&&r.loading)return!0}return!1}var V=i("8f3a"),H=i("3a39"),U=i("38f3"),z=i("39cf"),q=i("8eca"),Y=i("b9ec"),X=i("da2f"),Z=i("b7fa"),B=function(t){function e(e){e=Object(U["a"])({},e),e.controls||(e.controls=Object(V["a"])()),e.interactions||(e.interactions=Object(H["a"])()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new q["a"](this);return t.registerLayerRenderers([z["a"],Y["a"],X["a"],Z["a"]]),t},e}(D);e["a"]=B},6594:function(t,e,i){"use strict";var o=i("c2d3"),r=i("5bc3"),n=i("88da"),s=i("049d"),a=i("ac29"),h=i("2ce2"),c=function(t){t||(t={});var e=this;this._select=new h["a"]({style:t.style}),this._select.setActive(!1);var i,o=t.geometryFunction;if(i=o?function(t,i){return i=e._geometryFn(t,i),o(t,i)}:function(t,i){return e._geometryFn(t,i)},t.type="Polygon",t.geometryFunction=i,a["a"].call(this,t),t.layers&&("function"===typeof t.layers?this.layers_=t.layers:t.layers.indexOf&&(this.layers_=function(e){return t.layers.indexOf(e)>=0})),"function"===typeof t.features)this._features=t.features;else if(t.features){var r=t.features;this._features=function(t){return r.indexOf?!!r[r.indexOf(t)]:!!r.item(r.getArray().indexOf(t))}}else this._features=function(){return!0};this.on("drawstart",this._startDrawing.bind(this)),this.on("drawend",this._finishDrawing.bind(this))};Object(o["a"])(c,a["a"]),c.prototype.setMap=function(t){this.getMap()&&this.getMap().removeInteraction(this._select),t&&t.addInteraction(this._select),a["a"].prototype.setMap.call(this,t)},c.prototype.setActive=function(t){this._select.getFeatures().clear(),a["a"].prototype.setActive.call(this,t)},c.prototype.removeLastPoint=function(){this._feature&&this._feature.getGeometry().getCoordinates()[0].length>2&&a["a"].prototype.removeLastPoint.call(this)},c.prototype.getPolygon=function(){return this._polygon},c.prototype._startDrawing=function(t){var e=this.getMap();this._feature=t.feature;var i=t.feature.getGeometry().getCoordinates()[0][0];this._current=null,e.forEachFeatureAtPixel(e.getPixelFromCoordinate(i),function(t,e){if(this._features(t,e)){var o=t.getGeometry();if("Polygon"===o.getType()&&o.intersectsCoordinate(i))this._polygonIndex=!1,this._polygon=o,this._current=t;else if("MultiPolygon"===o.getType()&&o.intersectsCoordinate(i))for(var r,n=0;r=o.getPolygon(n);n++)if(r.intersectsCoordinate(i)){this._polygonIndex=n,this._polygon=r,this._current=t;break}}}.bind(this),{layerFilter:this.layers_}),this._select.getFeatures().clear(),this._current?this._select.getFeatures().push(this._current):(this.setActive(!1),this.setActive(!0))},c.prototype._finishDrawing=function(t){t.hole=t.feature,t.feature=this._select.getFeatures().item(0),this.dispatchEvent({type:"modifystart",features:[this._current]});var e=t.hole.getGeometry().getCoordinates()[0];if(e.length>3)if(!1!==this._polygonIndex){for(var i,o=t.feature.getGeometry(),r=new n["a"]([]),a=0;i=o.getPolygon(a);a++)a===this._polygonIndex?(i.appendLinearRing(new s["a"](e)),r.appendPolygon(i)):r.appendPolygon(i);t.feature.setGeometry(r)}else this.getPolygon().appendLinearRing(new s["a"](e));this.dispatchEvent({type:"modifyend",features:[this._current]}),this._feature=null,this._select.getFeatures().clear()},c.prototype._geometryFn=function(t,e){var i=t[0].pop();return this.getPolygon()&&!this.getPolygon().intersectsCoordinate(i)||(this.lastOKCoord=[i[0],i[1]]),t[0].push([this.lastOKCoord[0],this.lastOKCoord[1]]),e?e.setCoordinates([t[0].concat([t[0][0]])]):e=new r["a"](t),e},e["a"]=c},"6c18":function(t,e,i){"use strict";var o,r=i("6c77"),n=i("ce2c"),s=i("8682"),a=i("83a6");(function(){var t=[255,255,255,1],e=[0,153,255,1],i=3,h=[new r["c"]({stroke:new s["a"]({color:t,width:i+2})}),new r["c"]({image:new n["a"]({radius:2*i,fill:new a["a"]({color:e}),stroke:new s["a"]({color:t,width:i/2})}),stroke:new s["a"]({color:e,width:i}),fill:new a["a"]({color:[255,255,255,.5]})})];o=function(t){if(!0===t)return h;t=t||{};var e=new a["a"]({color:t.fillColor||"rgba(255,255,255,0.4)"}),i=new s["a"]({color:t.color||"#3399CC",width:1.25}),o=new r["c"]({image:new n["a"]({fill:e,stroke:i,radius:5}),fill:e,stroke:i});return[o]}})(),e["a"]=o},"6e60":function(t,e,i){"use strict";var o=i("c2d3"),r=i("4105"),n=i("7a09"),s=i("5bc3"),a=i("9eba"),h=i("6c18"),c=function(t){t||(t={}),r["b"].call(this,{handleDownEvent:this.handleDownEvent_,handleDragEvent:this.handleDragEvent_,handleMoveEvent:this.handleMoveEvent_,handleUpEvent:this.handleUpEvent_}),this.features_=t.features,this.layers_=t.layers?t.layers instanceof Array?t.layers:[t.layers]:null,this.set("duplicate",t.duplicate),this.source_=t.source,this._style="function"===typeof t.style?t.style:function(){return t.style?t.style:Object(h["a"])(!0)},this.previousCursor_=!1};Object(o["a"])(c,r["b"]),c.prototype.setMap=function(t){r["b"].prototype.setMap.call(this,t)},c.prototype.getFeatureAtPixel_=function(t){var e=this;return this.getMap().forEachFeatureAtPixel(t.pixel,(function(i,o){var r;if(e.layers_){for(var n=0;n<e.layers_.length;n++)if(e.layers_[n]===o){r=i;break}}else e.features_?e.features_.forEach((function(t){t===i&&(r=i)})):r=i;var s=r.getGeometry().getType();if(r&&/Polygon|LineString/.test(s)){if("Polygon"===s&&r.getGeometry().getCoordinates().length>1)return!1;var a=r.getGeometry().getClosestPoint(t.coordinate),h=a[0]-t.coordinate[0],c=a[1]-t.coordinate[1],l=Math.sqrt(h*h+c*c)/t.frameState.viewState.resolution;return l<5&&{feature:r,hit:a,coordinates:r.getGeometry().getCoordinates(),geom:r.getGeometry().clone(),geomType:s}}return!1}),{hitTolerance:5})},c.prototype.handleDownEvent_=function(t){return this.current_=this.getFeatureAtPixel_(t),!!this.current_&&(this.currentStyle_=this.current_.feature.getStyle(),this.current_.feature.setStyle(this._style(this.current_.feature)),this.source_&&(this.get("duplicate")||t.originalEvent.ctrlKey)?(this.current_.feature=this.current_.feature.clone(),this.source_.addFeature(this.current_.feature)):this.dispatchEvent({type:"modifystart",features:[this.current_.feature]}),this.dispatchEvent({type:"offsetstart",feature:this.current_.feature,offset:0}),!0)},c.prototype.handleDragEvent_=function(t){var e,i,o,r,h=this.current_.geom.getClosestPoint(t.coordinate),c=Object(a["a"])(h,t.coordinate);switch(this.current_.geomType){case"Polygon":if(e=Object(a["c"])(h,this.current_.coordinates[0]).segment,e){i=[e[1][0]-e[0][0],e[1][1]-e[0][1]],o=[t.coordinate[0]-h[0],t.coordinate[1]-h[1]],i[0]*o[1]-i[1]*o[0]>0&&(c=-c),r=[];for(var l=0;l<this.current_.coordinates.length;l++)r.push(Object(a["d"])(this.current_.coordinates[l],0==l?c:-c));this.current_.feature.setGeometry(new s["a"](r))}break;case"LineString":e=Object(a["c"])(h,this.current_.coordinates).segment,e&&(i=[e[1][0]-e[0][0],e[1][1]-e[0][1]],o=[t.coordinate[0]-h[0],t.coordinate[1]-h[1]],i[0]*o[1]-i[1]*o[0]>0&&(c=-c),r=Object(a["d"])(this.current_.coordinates,c),this.current_.feature.setGeometry(new n["a"](r)));break;default:break}this.dispatchEvent({type:"offsetting",feature:this.current_.feature,offset:c,segment:[h,t.coordinate],coordinate:t.coordinate})},c.prototype.handleUpEvent_=function(t){this.dispatchEvent({type:"offsetend",feature:this.current_.feature,coordinate:t.coordinate}),this.current_.feature.setStyle(this.currentStyle_),this.current_=!1},c.prototype.handleMoveEvent_=function(t){var e=this.getFeatureAtPixel_(t);e?(!1===this.previousCursor_&&(this.previousCursor_=t.map.getTargetElement().style.cursor),t.map.getTargetElement().style.cursor="pointer"):(t.map.getTargetElement().style.cursor=this.previousCursor_,this.previousCursor_=!1)},e["a"]=c},"6f9e":function(t,e,i){"use strict";var o={create:function(t,e){var i;if(e=e||{},"TEXT"===t)i=document.createTextNode(e.html||""),e.parent&&e.parent.appendChild(i);else for(var r in i=document.createElement(t),/button/i.test(t)&&i.setAttribute("type","button"),e)switch(r){case"className":e.className&&e.className.trim&&i.setAttribute("class",e.className.trim());break;case"html":e.html instanceof Element?i.appendChild(e.html):void 0!==e.html&&(i.innerHTML=e.html);break;case"parent":e.parent&&e.parent.appendChild(i);break;case"style":this.setStyle(i,e.style);break;case"change":case"click":o.addListener(i,r,e[r]);break;case"on":for(var n in e.on)o.addListener(i,n,e.on[n]);break;case"checked":i.checked=!!e.checked;break;default:i.setAttribute(r,e[r]);break}return i},setHTML:function(t,e){e instanceof Element?t.appendChild(e):void 0!==e&&(t.innerHTML=e)},appendText:function(t,e){t.appendChild(document.createTextNode(e||""))},addListener:function(t,e,i){"string"===typeof e&&(e=e.split(" ")),e.forEach((function(e){t.addEventListener(e,i)}))},removeListener:function(t,e,i){"string"===typeof e&&(e=e.split(" ")),e.forEach((function(e){t.removeEventListener(e,i)}))},show:function(t){t.style.display=""},hide:function(t){t.style.display="none"},hidden:function(t){return"none"===o.getStyle(t,"display")},toggle:function(t){t.style.display="none"===t.style.display?"":"none"},setStyle:function(t,e){for(var i in e)switch(i){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":"number"===typeof e[i]?t.style[i]=e[i]+"px":t.style[i]=e[i];break;default:t.style[i]=e[i]}},getStyle:function(t,e){var i,o=(t.ownerDocument||document).defaultView;if(o&&o.getComputedStyle)e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),i=o.getComputedStyle(t,null).getPropertyValue(e);else if(t.currentStyle&&(e=e.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()})),i=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(i)))return function(e){var i=t.style.left,o=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft+"px",t.style.left=i,t.runtimeStyle.left=o,e}(i);return/px$/.test(i)?parseInt(i):i},outerHeight:function(t){return t.offsetHeight+o.getStyle(t,"marginBottom")},outerWidth:function(t){return t.offsetWidth+o.getStyle(t,"marginLeft")},offsetRect:function(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:e.height||e.bottom-e.top,width:e.widtth||e.right-e.left}},scrollDiv:function(t,e){var i,r=!1,n=0,s=0,a="function"===typeof e.onmove?e.onmove:function(){},h=e.vertical?"pageY":"pageX",c=e.vertical?"scrollTop":"scrollLeft",l=!1;t.querySelectorAll("img").forEach((function(t){t.ondragstart=function(){return!1}})),o.addListener(t,["mousedown"],(function(e){l=!1,r=e[h],s=new Date,t.classList.add("ol-move")})),o.addListener(window,["mousemove"],(function(e){if(l=!0,!1!==r){var o=r-e[h];t[c]+=o,i=new Date,i-s&&(n=(n+o/(i-s))/2),r=e[h],s=i,o&&a(!0)}else a(!1)})),o.addListener(window,["mouseup"],(function(e){l?setTimeout((function(){t.classList.remove("ol-move")})):t.classList.remove("ol-move"),l=!1,s=new Date-s,s>100?n=0:s>0&&(n=((n||0)+(r-e[h])/s)/2),t[c]+=100*n,r=!1,n=0,s=0})),e.mousewheel&&!t.classList.contains("ol-touch")&&o.addListener(t,["mousewheel","DOMMouseScroll","onmousewheel"],(function(e){var i=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return t.classList.add("ol-move"),t[c]-=30*i,t.classList.remove("ol-move"),!1}))},dispatchEvent:function(t,e){var i;try{i=new CustomEvent(t)}catch(o){i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!0,!0,{})}e.dispatchEvent(i)}};e["a"]=o},7238:function(t,e,i){"use strict";var o=i("cef7"),r=function(t){function e(e,i,o){t.call(this,e),this.map=i,this.frameState=void 0!==o?o:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o["a"]);e["a"]=r},"7b4f":function(t,e,i){"use strict";e["a"]={PROPERTYCHANGE:"propertychange"}},"7f98":function(t,e,i){"use strict";var o=i("5e31"),r=i("acc1"),n=i("0999"),s=i("1e8d"),a=i("01d4"),h=function(t){function e(e,i,o,r,n,s){t.call(this,e,i,s),this.crossOrigin_=r,this.src_=o,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==r["a"].LOADING&&(this.unlistenImage_(),this.image_=c()),this.interimTile&&this.interimTile.dispose(),this.state=r["a"].ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=r["a"].ERROR,this.unlistenImage_(),this.image_=c(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=r["a"].LOADED:this.state=r["a"].EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==r["a"].ERROR&&(this.state=r["a"].IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==r["a"].IDLE&&(this.state=r["a"].LOADING,this.changed(),this.imageListenerKeys_=[Object(s["b"])(this.image_,a["a"].ERROR,this.handleImageError_,this),Object(s["b"])(this.image_,a["a"].LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s["e"]),this.imageListenerKeys_=null},e}(o["a"]);function c(){var t=Object(n["a"])(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}e["a"]=h},"835b":function(t,e,i){"use strict";var o=i("1300"),r=function(t){function e(e){var i="latest"===o["a"]?o["a"]:"v"+o["a"].split("-")[0],r="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+e+" for details.";t.call(this,r),this.code=e,this.name="AssertionError",this.message=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e["a"]=r},"869f":function(t,e,i){"use strict";e["a"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},"8d87":function(t,e,i){"use strict";var o=i("5116"),r=i("2c30"),n=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){while(this.canExpireCache()){var e=this.peekLast(),i=e.tileCoord[0].toString();if(i in t&&t[i].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=Object(r["b"])(t),i=e[0];this.forEach((function(t){t.tileCoord[0]!==i&&(this.remove(Object(r["c"])(t.tileCoord)),t.dispose())}),this)}},e}(o["a"]);e["a"]=n},"93b1":function(t,e,i){"use strict";var o=i("c2d3"),r=i("2ce2"),n=i("5831"),s=function(t){r["a"].call(this,t),this.on("select",function(t){this.getFeatures().clear(),this.delete(t.selected)}.bind(this))};Object(o["a"])(s,r["a"]),s.prototype._getSources=function(t){if(!this.getMap())return[];t||(t=this.getMap().getLayers());var e=[];return t.forEach(function(t){t.getLayers?e=e.concat(this._getSources(t.getLayers())):t.getSource&&t.getSource()instanceof n["a"]&&e.push(t.getSource())}.bind(this)),e},s.prototype.delete=function(t){if(t&&(t.length||t.getLength())){this.dispatchEvent({type:"deletestart",features:t});var e=[];this._getSources().forEach((function(i){try{t.forEach((function(t){i.removeFeature(t),e.push(t)}))}catch(o){}})),this.dispatchEvent({type:"deleteend",features:e})}},e["a"]=s},"9eba":function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return s})),i.d(e,"d",(function(){return n}));i("0af5"),i("7a09"),i("049d"),i("47e4"),i("9a44"),i("88da"),i("f403"),i("5bc3");var o=function(t,e){var i=t[0]-e[0],o=t[1]-e[1];return Math.sqrt(i*i+o*o)},r=function(t,e){return t[0]==e[0]&&t[1]==e[1]},n=function(t,e){var i,n,s,a,h,c,l,u,p,d,f,y,_,g=[],v=t.length-1,m=v,E=r(t[0],t[v]);E||(f=t[0],y=t[1],_=[f[0]+(y[1]-f[1])/o(f,y)*e,f[1]-(y[0]-f[0])/o(f,y)*e],g.push(_),t.push(t[v]),v++,m--);for(var b=0;b<m;b++)f=t[b],y=t[(b+1)%v],_=t[(b+2)%v],i=(y[1]-f[1])/(y[0]-f[0]),n=(_[1]-y[1])/(_[0]-y[0]),Math.abs(i-n)>1e-10&&(s=Math.sqrt((y[0]-f[0])*(y[0]-f[0])+(y[1]-f[1])*(y[1]-f[1])),a=Math.sqrt((_[0]-y[0])*(_[0]-y[0])+(_[1]-y[1])*(_[1]-y[1])),h=f[0]+e*(y[1]-f[1])/s,c=y[0]+e*(_[1]-y[1])/a,l=f[1]-e*(y[0]-f[0])/s,u=y[1]-e*(_[0]-y[0])/a,p=(n*c-i*h+l-u)/(n-i),d=(i*n*(c-h)+n*l-i*u)/(n-i),y[0]-f[0]==0&&(p=y[0]+e*(y[1]-f[1])/Math.abs(y[1]-f[1]),d=n*p-n*c+u),_[0]-y[0]==0&&(p=_[0]+e*(_[1]-y[1])/Math.abs(_[1]-y[1]),d=i*p-i*h+l),g.push([p,d]));return E?g.push(g[0]):(t.pop(),f=t[t.length-1],y=t[t.length-2],_=[f[0]-(y[1]-f[1])/o(f,y)*e,f[1]+(y[0]-f[0])/o(f,y)*e],g.push(_)),g},s=function(t,e){for(var i=0;i<e.length-1;i++){var n=e[i],s=e[i+1];if(r(t,n)||r(t,s))return{index:1,segment:[n,s]};var a=o(n,s),h=[(s[0]-n[0])/a,(s[1]-n[1])/a],c=o(n,t),l=[(t[0]-n[0])/c,(t[1]-n[1])/c];if(Math.abs(h[0]*l[1]-h[1]*l[0])<1e-10)return{index:1,segment:[n,s]}}return{index:-1}}},a2c7:function(t,e,i){"use strict";var o=i("0414"),r=i("1300"),n=i("57cb"),s=i("67f6"),a=i("e269"),h=i("aaa2"),c=i("8cc5"),l=i("496f"),u={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},p=i("9f5e"),d=i("92fa"),f=i("a568"),y=i("ca42"),_=i("0af5"),g=i("f623"),v=i("5bc3"),m=i("7fc9"),E=i("38f3"),b=i("256f"),w=i("fced"),C=0,O=function(t){function e(e){t.call(this);var i=Object(E["a"])({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Object(b["b"])(i.projection,"EPSG:3857"),this.applyOptions_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[u.CENTER]=void 0!==t.center?t.center:null;var i=L(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=i.minZoom;var o=T(t),r=i.constraint,n=x(t);this.constraints_={center:o,resolution:r,rotation:n},void 0!==t.resolution?e[u.RESOLUTION]=t.resolution:void 0!==t.zoom&&(e[u.RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[u.RESOLUTION]=Object(m["a"])(Number(this.getResolution()||e[u.RESOLUTION]),this.minResolution_,this.maxResolution_))),e[u.ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(E["a"])({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),Object(E["a"])({},e,t)},e.prototype.animate=function(t){var e,i=arguments,o=arguments.length;if(o>1&&"function"===typeof arguments[o-1]&&(e=arguments[o-1],--o),!this.isDef()){var r=arguments[o-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&R(e,!0))}for(var n=Date.now(),s=this.getCenter().slice(),a=this.getResolution(),h=this.getRotation(),c=[],u=0;u<o;++u){var p=i[u],d={start:n,complete:!1,anchor:p.anchor,duration:void 0!==p.duration?p.duration:1e3,easing:p.easing||y["c"]};if(p.center&&(d.sourceCenter=s,d.targetCenter=p.center,s=d.targetCenter),void 0!==p.zoom?(d.sourceResolution=a,d.targetResolution=this.constrainResolution(this.maxResolution_,p.zoom-this.minZoom_,0),a=d.targetResolution):p.resolution&&(d.sourceResolution=a,d.targetResolution=p.resolution,a=d.targetResolution),void 0!==p.rotation){d.sourceRotation=h;var f=Object(m["d"])(p.rotation-h+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=h+f,h=d.targetRotation}d.callback=e,A(d)?d.complete=!0:n+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(l["a"].ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[l["a"].ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[l["a"].INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(l["a"].ANIMATING,-this.hints_[l["a"].ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var i=this.animations_[t];i[0].callback&&R(i[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],r=!0,n=0,s=o.length;n<s;++n){var a=o[n];if(!a.complete){var h=t-a.start,c=a.duration>0?h/a.duration:1;c>=1?(a.complete=!0,c=1):r=!1;var p=a.easing(c);if(a.sourceCenter){var d=a.sourceCenter[0],f=a.sourceCenter[1],y=a.targetCenter[0],_=a.targetCenter[1],g=d+p*(y-d),v=f+p*(_-f);this.set(u.CENTER,[g,v])}if(a.sourceResolution&&a.targetResolution){var E=1===p?a.targetResolution:a.sourceResolution+p*(a.targetResolution-a.sourceResolution);a.anchor&&this.set(u.CENTER,this.calculateCenterZoom(E,a.anchor)),this.set(u.RESOLUTION,E)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var b=1===p?Object(m["d"])(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+p*(a.targetRotation-a.sourceRotation);a.anchor&&this.set(u.CENTER,this.calculateCenterRotate(b,a.anchor)),this.set(u.ROTATION,b)}if(e=!0,!a.complete)break}}if(r){this.animations_[i]=null,this.setHint(l["a"].ANIMATING,-1);var w=o[0].callback;w&&R(w,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var i,o=this.getCenter();return void 0!==o&&(i=[o[0]-e[0],o[1]-e[1]],Object(f["f"])(i,t-this.getRotation()),Object(f["a"])(i,e)),i},e.prototype.calculateCenterZoom=function(t,e){var i,o=this.getCenter(),r=this.getResolution();if(void 0!==o&&void 0!==r){var n=e[0]-t*(e[0]-o[0])/r,s=e[1]-t*(e[1]-o[1])/r;i=[n,s]}return i},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+Object(r["c"])(this)+'"]',i=document.querySelector(e);if(i){var o=getComputedStyle(i);t[0]=parseInt(o.width,10),t[1]=parseInt(o.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,i){var o=e||0,r=i||0;return this.constraints_.resolution(t,o,r)},e.prototype.constrainRotation=function(t,e){var i=e||0;return this.constraints_.rotation(t,i)},e.prototype.getCenter=function(){return this.get(u.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),i=this.getCenter();Object(d["a"])(i,1);var o=this.getResolution();Object(d["a"])(void 0!==o,2);var r=this.getRotation();return Object(d["a"])(void 0!==r,3),Object(_["z"])(i,o,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(u.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var i=e||this.getSizeFromViewport_(),o=Object(_["E"])(t)/i[0],r=Object(_["A"])(t)/i[1];return Math.max(o,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.maxResolution_,o=this.minResolution_,r=Math.log(i/o)/Math.log(e);return function(t){var o=i/Math.pow(e,t*r);return o}},e.prototype.getRotation=function(){return this.get(u.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,i=this.maxResolution_,o=this.minResolution_,r=Math.log(i/o)/Math.log(e);return function(t){var o=Math.log(i/t)/Math.log(e)/r;return o}},e.prototype.getState=function(t){var e=this.getCenter(),i=this.getProjection(),o=this.getResolution(),r=o/t,n=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==i?i:null,resolution:o,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,i,o=this.minZoom_||0;if(this.resolutions_){var r=Object(p["f"])(this.resolutions_,t,1);o=r,e=this.resolutions_[r],i=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,i=this.zoomFactor_;return o+Math.log(e/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var i,o=e||{},r=o.size;r||(r=this.getSizeFromViewport_()),Object(d["a"])(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Object(d["a"])(!Object(_["H"])(t),25),i=Object(v["c"])(t)):t.getType()===g["a"].CIRCLE?(t=t.getExtent(),i=Object(v["c"])(t),i.rotate(this.getRotation(),Object(_["x"])(t))):i=t;var s,a=void 0!==o.padding?o.padding:[0,0,0,0],h=void 0===o.constrainResolution||o.constrainResolution,c=void 0!==o.nearest&&o.nearest;s=void 0!==o.minResolution?o.minResolution:void 0!==o.maxZoom?this.constrainResolution(this.maxResolution_,o.maxZoom-this.minZoom_,0):0;for(var l=i.getFlatCoordinates(),u=this.getRotation(),p=Math.cos(-u),f=Math.sin(-u),y=1/0,m=1/0,E=-1/0,b=-1/0,w=i.getStride(),C=0,O=l.length;C<O;C+=w){var T=l[C]*p-l[C+1]*f,L=l[C]*f+l[C+1]*p;y=Math.min(y,T),m=Math.min(m,L),E=Math.max(E,T),b=Math.max(b,L)}var x=this.getResolutionForExtent([y,m,E,b],[r[0]-a[1]-a[3],r[1]-a[0]-a[2]]);if(x=isNaN(x)?s:Math.max(x,s),h){var A=this.constrainResolution(x,0,0);!c&&A<x&&(A=this.constrainResolution(A,-1,0)),x=A}f=-f;var S=(y+E)/2,M=(m+b)/2;S+=(a[1]-a[3])/2*x,M+=(a[0]-a[2])/2*x;var P=S*p-M*f,k=M*p+S*f,I=[P,k],j=o.callback?o.callback:n["c"];void 0!==o.duration?this.animate({resolution:x,center:I,duration:o.duration,easing:o.easing},j):(this.setResolution(x),this.setCenter(I),R(j,!0))},e.prototype.centerOn=function(t,e,i){var o=this.getRotation(),r=Math.cos(-o),n=Math.sin(-o),s=t[0]*r-t[1]*n,a=t[1]*r+t[0]*n,h=this.getResolution();s+=(e[0]/2-i[0])*h,a+=(i[1]-e[1]/2)*h,n=-n;var c=s*r-a*n,l=a*r+s*n;this.setCenter([c,l])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var i=this.calculateCenterRotate(t,e);this.setCenter(i)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(u.CENTER,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(u.RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(u.ROTATION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(a["a"]);function R(t,e){setTimeout((function(){t(e)}),0)}function T(t){return void 0!==t.extent?Object(s["a"])(t.extent):s["b"]}function L(t){var e,i,r,n=28,s=2,a=void 0!==t.minZoom?t.minZoom:C,c=void 0!==t.maxZoom?t.maxZoom:n,l=void 0!==t.zoomFactor?t.zoomFactor:s;if(void 0!==t.resolutions){var u=t.resolutions;i=u[a],r=void 0!==u[c]?u[c]:u[u.length-1],e=Object(h["b"])(u)}else{var p=Object(b["b"])(t.projection,"EPSG:3857"),d=p.getExtent(),f=d?Math.max(Object(_["E"])(d),Object(_["A"])(d)):360*b["a"][w["b"].DEGREES]/p.getMetersPerUnit(),y=f/o["b"]/Math.pow(s,C),g=y/Math.pow(s,n-C);i=t.maxResolution,void 0!==i?a=0:i=y/Math.pow(l,a),r=t.minResolution,void 0===r&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(l,c):y/Math.pow(l,c):g),c=a+Math.floor(Math.log(i/r)/Math.log(l)),r=i/Math.pow(l,c-a),e=Object(h["a"])(l,i,c-a)}return{constraint:e,maxResolution:i,minResolution:r,minZoom:a,zoomFactor:l}}function x(t){var e=void 0===t.enableRotation||t.enableRotation;if(e){var i=t.constrainRotation;return void 0===i||!0===i?Object(c["b"])():!1===i?c["d"]:"number"===typeof i?Object(c["a"])(i):c["d"]}return c["c"]}function A(t){return!(t.sourceCenter&&t.targetCenter&&!Object(f["e"])(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}e["a"]=O},acc1:function(t,e,i){"use strict";e["a"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},c2d3:function(t,e,i){"use strict";window.ol&&!ol.ext&&(ol.ext={});var o=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t};window.ol&&(ol.inherits||(ol.inherits=o)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),e["a"]=o},c52d:function(t,e,i){"use strict";var o=i("9eba"),r=i("7a09");r["a"].prototype.splitAt=function(t,e){var i;if(!t)return[this];if(e||(e=1e-10),t.length&&t[0].length){var n=[this];for(i=0;i<t.length;i++){for(var s=[],a=0;a<n.length;a++){var h=n[a].splitAt(t[i],e);s=s.concat(h)}n=s}return n}if(Object(o["b"])(t,this.getFirstCoordinate())||Object(o["b"])(t,this.getLastCoordinate()))return[this];var c=this.getCoordinates(),l=[c[0]],u=[];for(i=0;i<c.length-1;i++)if(!Object(o["b"])(c[i],c[i+1])){if(Object(o["b"])(t,c[i+1]))l.push(c[i+1]),u.push(new r["a"](l)),l=[];else if(!Object(o["b"])(t,c[i])){var p,d,f=!1;c[i][0]==c[i+1][0]?(p=(c[i][1]-t[1])/(c[i][1]-c[i+1][1]),f=c[i][0]==t[0]&&0<p&&p<=1):c[i][1]==c[i+1][1]?(p=(c[i][0]-t[0])/(c[i][0]-c[i+1][0]),f=c[i][1]==t[1]&&0<p&&p<=1):(p=(c[i][0]-t[0])/(c[i][0]-c[i+1][0]),d=(c[i][1]-t[1])/(c[i][1]-c[i+1][1]),f=Math.abs(p-d)<=e&&0<p&&p<=1),f&&(l.push(t),u.push(new r["a"](l)),l=[t])}l.push(c[i+1])}return l.length>1&&u.push(new r["a"](l)),u.length?u:[this]}},d803:function(t,e,i){"use strict";var o=i("c2d3"),r=i("4334"),n=i("3e6b"),s=i("35a7"),a=i("5831");(function(){var t=a["a"].prototype.clear;a["a"].prototype.clear=function(e){this.dispatchEvent({type:"clearstart"}),t.call(this,e),this.dispatchEvent({type:"clearend"})}})();var h=function(t){t||(t={}),r["a"].call(this,{handleEvent:function(){return!0}}),this._undoStack=[],this._redoStack=[],this._block=0,this._record=!0,this._defs={}};Object(o["a"])(h,r["a"]),h.prototype.define=function(t,e,i){this._defs["_"+t]={undo:e,redo:i}},h.prototype.push=function(t,e){return!!this._defs["_"+t]&&(this._undoStack.push({type:"_"+t,prop:e}),!0)},h.prototype.setActive=function(t){r["a"].prototype.setActive.call(this,t),this._record=t},h.prototype.setMap=function(t){this._mapListener&&this._mapListener.forEach((function(t){Object(s["b"])(t)})),this._mapListener=[],r["a"].prototype.setMap.call(this,t),t&&(this._mapListener.push(t.on("undoblockstart",this.blockStart.bind(this))),this._mapListener.push(t.on("undoblockend",this.blockEnd.bind(this)))),this._watchSources(),this._watchInteractions()},h.prototype._watchSources=function(){var t=this.getMap();function e(t,i){return i||(i=[]),t.forEach((function(t){t instanceof n["a"]?i.push(t):t.getLayers&&e(t.getLayers(),i)})),i}if(this._sourceListener&&this._sourceListener.forEach((function(t){Object(s["b"])(t)})),this._sourceListener=[],t){var i=e(t.getLayers());i.forEach(function(t){var e=t.getSource();this._sourceListener.push(e.on(["addfeature","removefeature"],this._onAddRemove.bind(this))),this._sourceListener.push(e.on("clearstart",this.blockStart.bind(this))),this._sourceListener.push(e.on("clearend",this.blockEnd.bind(this)))}.bind(this)),this._sourceListener.push(t.getLayers().on(["add","remove"],this._watchSources.bind(this)))}},h.prototype._watchInteractions=function(){var t=this.getMap();this._interactionListener&&this._interactionListener.forEach((function(t){Object(s["b"])(t)})),this._interactionListener=[],t&&(t.getInteractions().forEach(function(t){this._interactionListener.push(t.on(["setattributestart","modifystart","rotatestart","translatestart","scalestart","deletestart","deleteend","beforesplit","aftersplit"],this._onInteraction.bind(this)))}.bind(this)),this._interactionListener.push(t.getInteractions().on(["add","remove"],this._watchInteractions.bind(this))))},h.prototype._onAddRemove=function(t){this._record&&(this._undoStack.push({type:t.type,source:t.target,feature:t.feature}),this._redoStack=[])},h.prototype._onInteraction=function(t){var e=this._onInteraction[t.type];e&&e.call(this,t)},h.prototype._onInteraction.setattributestart=function(t){this.blockStart();var e=Object.assign({},t.properties);t.features.forEach(function(t){var i={};for(var o in e)i[o]=t.get(o);this._undoStack.push({type:"changeattribute",feature:t,newProperties:e,oldProperties:i})}.bind(this)),this.blockEnd()},h.prototype._onInteraction.rotatestart=h.prototype._onInteraction.translatestart=h.prototype._onInteraction.scalestart=h.prototype._onInteraction.modifystart=function(t){this.blockStart(),t.features.forEach(function(t){this._undoStack.push({type:"changefeature",feature:t,oldFeature:t.clone()})}.bind(this)),this.blockEnd()},h.prototype.blockStart=function(){this._undoStack.push({type:"blockstart"}),this._redoStack=[]},h.prototype._onInteraction.beforesplit=h.prototype._onInteraction.deletestart=h.prototype.blockStart,h.prototype.blockEnd=function(){this._undoStack.push({type:"blockend"})},h.prototype._onInteraction.aftersplit=h.prototype._onInteraction.deleteend=h.prototype.blockEnd,h.prototype._handleDo=function(t,e){if(this.getActive()){switch(this._record=!1,t.type){case"addfeature":e?t.source.removeFeature(t.feature):t.source.addFeature(t.feature);break;case"removefeature":e?t.source.addFeature(t.feature):t.source.removeFeature(t.feature);break;case"changefeature":var i=t.feature.getGeometry();t.feature.setGeometry(t.oldFeature.getGeometry()),t.oldFeature.setGeometry(i);break;case"changeattribute":var o=t.newProperties,r=t.oldProperties;for(var n in r)void 0===r?t.feature.unset(n):t.feature.set(n,r[n]);t.oldProperties=o,t.newProperties=r;break;case"blockstart":this._block+=e?-1:1;break;case"blockend":this._block+=e?1:-1;break;default:this._defs[t.type]?e?this._defs[t.type].undo(t.prop):this._defs[t.type].redo(t.prop):console.warn('[UndoRedoInteraction]: "'+t.type.substr(1)+'" is not defined.')}this._block<0&&(this._block=0),this._block&&(e?this.undo():this.redo()),this._record=!0,this.dispatchEvent({type:e?"undo":"redo",action:t})}},h.prototype.undo=function(){var t=this._undoStack.pop();t&&(this._redoStack.push(t),this._handleDo(t,!0))},h.prototype.redo=function(){var t=this._redoStack.pop();t&&(this._undoStack.push(t),this._handleDo(t,!1))},h.prototype.clear=function(){this._undoStack=[],this._redoStack=[]},h.prototype.hasUndo=function(){return this._undoStack.length},h.prototype.hasRedo=function(){return this._redoStack.length};e["a"]=h},d96b:function(t,e,i){"use strict";var o=i("c2d3"),r=i("4334"),n=i("6c18"),s=i("e300"),a=i("3e6b"),h=i("5831"),c=i("f822"),l=i("5bc3"),u=i("f403"),p=i("7a09"),d=i("4cdf"),f=function(t){t||(t={}),this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.maxCircleCoordinates_=t.maxCircleCoordinates||100,this.features_=t.features,this.source_=t.source,this.squareFn_=t.squareCondition,this.centeredFn_=t.centerCondition,this.canRotate_=!1!==t.canRotate,this.geometryName_=t.geometryName,this.setSides(t.sides);var e=Object(n["a"])(!0);this.sketch_=new s["a"],this.overlayLayer_=new a["a"]({source:new h["a"]({features:this.sketch_,useSpatialIndex:!1}),name:"DrawRegular overlay",displayInLayerSwitcher:!1,style:t.style||e}),r["a"].call(this,{handleEvent:this.handleEvent_})};Object(o["a"])(f,r["a"]),f.prototype.setMap=function(t){this.getMap()&&this.getMap().removeLayer(this.overlayLayer_),r["a"].prototype.setMap.call(this,t),this.overlayLayer_.setMap(t)},f.prototype.setActive=function(t){this.reset(),r["a"].prototype.setActive.call(this,t)},f.prototype.reset=function(){this.overlayLayer_.getSource().clear(),this.started_=!1},f.prototype.setSides=function(t){t=parseInt(t),this.sides_=t>2?t:0},f.prototype.canRotate=function(t){return!0!==t&&!1!==t||(this.canRotate_=t),this.canRotate_},f.prototype.getSides=function(){return this.sides_},f.prototype.startAngle={default:Math.PI/2,3:-Math.PI/2,4:Math.PI/4},f.prototype.getGeom_=function(){if(this.overlayLayer_.getSource().clear(),!this.center_)return!1;var t;if(this.coord_){var e,i,o,r,n,s=this.center_,a=this.coord_;if(!this.sides_&&this.square_&&!this.centered_)return s=[(a[0]+s[0])/2,(a[1]+s[1])/2],e=[a[0]-s[0],a[1]-s[1]],o=Math.sqrt(e[0]*e[0]+e[1]*e[1]),r=new c["a"](s,o,"XY"),n=this.getMap().getPixelFromCoordinate(s),i=Math.max(100,Math.abs(n[0]-this.coordPx_[0]),Math.abs(n[1]-this.coordPx_[1])),i=Math.min(this.maxCircleCoordinates_,Math.round(i/3)),Object(l["b"])(r,i,0);var h=this.canRotate_&&this.centered_&&this.square_;if(e=[a[0]-s[0],a[1]-s[1]],this.square_&&!h){var p=Math.max(Math.abs(e[0]),Math.abs(e[1]));a=[s[0]+(e[0]>0?p:-p),s[1]+(e[1]>0?p:-p)]}if(o=Math.sqrt(e[0]*e[0]+e[1]*e[1]),o>0){var d;if(r=new c["a"](s,o,"XY"),d=h?Math.atan2(e[1],e[0]):this.startAngle[this.sides_]||this.startAngle["default"],this.sides_?t=Object(l["b"])(r,this.sides_,d):(n=this.getMap().getPixelFromCoordinate(this.center_),i=Math.max(100,Math.abs(n[0]-this.coordPx_[0]),Math.abs(n[1]-this.coordPx_[1])),i=Math.min(this.maxCircleCoordinates_,Math.round(i/(this.centered_?3:5))),t=Object(l["b"])(r,i,0)),h)return t;var f=t.getExtent();s=this.centered_?[2*this.center_[0]-this.coord_[0],2*this.center_[1]-this.coord_[1]]:this.center_;var y=(s[0]-a[0])/(f[0]-f[2]),_=(s[1]-a[1])/(f[1]-f[3]);if(this.square_){var g=Math.min(Math.abs(y),Math.abs(_));y=Math.sign(y)*g,_=Math.sign(_)*g}var v=[s[0]-f[0]*y,s[1]-f[1]*_];return t.applyTransform((function(t,e,i){for(var o=0;o<t.length;o+=i)e[o]=t[o]*y+v[0],e[o+1]=t[o+1]*_+v[1];return e})),t}}return new u["a"](this.center_)},f.prototype.drawSketch_=function(t){if(this.overlayLayer_.getSource().clear(),t){this.square_=this.squareFn_?this.squareFn_(t):t.originalEvent.shiftKey,this.centered_=this.centeredFn_?this.centeredFn_(t):t.originalEvent.metaKey||t.originalEvent.ctrlKey;var e=this.getGeom_();if(e){var i=this.feature_;return this.geometryName_&&i.setGeometryName(this.geometryName_),"Polygon"===e.getType()&&i.getGeometry().setCoordinates(e.getCoordinates()),this.overlayLayer_.getSource().addFeature(i),this.coord_&&this.square_&&(this.canRotate_&&this.centered_&&this.coord_||!this.sides_&&!this.centered_)&&this.overlayLayer_.getSource().addFeature(new d["a"](new p["a"]([this.center_,this.coord_]))),i}}},f.prototype.drawPoint_=function(t,e){e||this.overlayLayer_.getSource().clear(),this.overlayLayer_.getSource().addFeature(new d["a"](new u["a"](t)))},f.prototype.handleEvent_=function(t){var e,i;switch(this._eventTime=new Date,t.type){case"pointerdown":this.downPx_=t.pixel,this.start_(t);var o=500;this._longTouch=!1,setTimeout(function(){this._longTouch=new Date-this._eventTime>.9*o,this._longTouch&&this.handleMoveEvent_(t)}.bind(this),o);break;case"pointerup":this.started_&&this.coord_&&(e=this.downPx_[0]-t.pixel[0],i=this.downPx_[1]-t.pixel[1],e*e+i*i<=this.squaredClickTolerance_&&("pointermove"==this.lastEvent||"keydown"==this.lastEvent?this.end_(t):(e=this.upPx_[0]-t.pixel[0],i=this.upPx_[1]-t.pixel[1],e*e+i*i<=this.squaredClickTolerance_?this.end_(t):(this.handleMoveEvent_(t),this.drawPoint_(t.coordinate,!0))))),this.upPx_=t.pixel;break;case"pointerdrag":if(this.started_){var r=this.getMap().getPixelFromCoordinate(this.center_);e=r[0]-t.pixel[0],i=r[1]-t.pixel[1],e*e+i*i<=this.squaredClickTolerance_&&this.reset()}return!this._longTouch;case"pointermove":this.started_&&(e=this.downPx_[0]-t.pixel[0],i=this.downPx_[1]-t.pixel[1],e*e+i*i>this.squaredClickTolerance_&&(this.handleMoveEvent_(t),this.lastEvent=t.type));break;default:if(this.lastEvent=t.type,this.started_&&"dblclick"===t.type)return!1;break}return!0},f.prototype.finishDrawing=function(){this.started_&&this.coord_&&this.end_({pixel:this.upPx_,coordinate:this.coord_})},f.prototype.handleMoveEvent_=function(t){if(this.started_){this.coord_=t.coordinate,this.coordPx_=t.pixel;var e=this.drawSketch_(t);this.dispatchEvent({type:"drawing",feature:e,pixel:t.pixel,startCoordinate:this.center_,coordinate:t.coordinate,square:this.square_,centered:this.centered_})}else this.drawPoint_(t.coordinate)},f.prototype.start_=function(t){if(this.started_)this.coord_=t.coordinate;else{this.started_=!0,this.center_=t.coordinate,this.coord_=null;var e=new l["a"]([[t.coordinate,t.coordinate,t.coordinate]]),i=this.feature_=new d["a"](e);this.drawSketch_(t),this.dispatchEvent({type:"drawstart",feature:i,pixel:t.pixel,coordinate:t.coordinate})}},f.prototype.end_=function(t){if(this.coord_=t.coordinate,this.started_=!1,this.coord_&&this.center_[0]!=this.coord_[0]&&this.center_[1]!=this.coord_[1]){var e=this.feature_;this.geometryName_&&e.setGeometryName(this.geometryName_),e.setGeometry(this.getGeom_()),this.source_?this.source_.addFeature(e):this.features_&&this.features_.push(e),this.dispatchEvent({type:"drawend",feature:e,pixel:t.pixel,coordinate:t.coordinate,square:this.square_,centered:this.centered_})}else this.dispatchEvent({type:"drawcancel",feature:null,pixel:t.pixel,coordinate:t.coordinate,square:this.square_,centered:this.centered_});this.center_=this.coord_=null,this.drawSketch_()},e["a"]=f},da5c:function(t,e,i){"use strict";var o=function(){this.disposed_=!1};o.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},o.prototype.disposeInternal=function(){},e["a"]=o},dc07:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var o=function(t,e,i,o){this.minX=t,this.maxX=e,this.minY=i,this.maxY=o};function r(t,e,i,r,n){return void 0!==n?(n.minX=t,n.maxX=e,n.minY=i,n.maxY=r,n):new o(t,e,i,r)}o.prototype.contains=function(t){return this.containsXY(t[1],t[2])},o.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},o.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},o.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},o.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},o.prototype.getHeight=function(){return this.maxY-this.minY+1},o.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},o.prototype.getWidth=function(){return this.maxX-this.minX+1},o.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e["b"]=o},de46:function(t,e,i){"use strict";var o=i("509b"),r=function(t){function e(e,i,o,r,n){t.call(this,e,i,o.originalEvent,r,n),this.pointerEvent=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o["a"]);e["a"]=r},e269:function(t,e,i){"use strict";i.d(e,"b",(function(){return u}));var o=i("1300"),r=i("7b4f"),n=i("35a7"),s=i("cef7"),a=i("38f3"),h=function(t){function e(e,i,o){t.call(this,e),this.key=i,this.oldValue=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s["a"]),c=function(t){function e(e){t.call(this),Object(o["c"])(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Object(a["a"])({},this.values_)},e.prototype.notify=function(t,e){var i;i=u(t),this.dispatchEvent(new h(i,t,e)),i=r["a"].PROPERTYCHANGE,this.dispatchEvent(new h(i,t,e))},e.prototype.set=function(t,e,i){if(i)this.values_[t]=e;else{var o=this.values_[t];this.values_[t]=e,o!==e&&this.notify(t,o)}},e.prototype.setProperties=function(t,e){for(var i in t)this.set(i,t[i],e)},e.prototype.unset=function(t,e){if(t in this.values_){var i=this.values_[t];delete this.values_[t],e||this.notify(t,i)}},e}(n["a"]),l={};function u(t){return l.hasOwnProperty(t)?l[t]:l[t]="change:"+t}e["a"]=c},e300:function(t,e,i){"use strict";var o=i("835b"),r=i("183a"),n=i("e269"),s=i("cef7"),a={LENGTH:"length"},h=function(t){function e(e,i){t.call(this,e),this.element=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s["a"]),c=function(t){function e(e,i){t.call(this);var o=i||{};if(this.unique_=!!o.unique,this.array_=e||[],this.unique_)for(var r=0,n=this.array_.length;r<n;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){while(this.getLength()>0)this.pop()},e.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,i=0,o=e.length;i<o;++i)t(e[i],i,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(a.LENGTH)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new h(r["a"].ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,i=0,o=e.length;i<o;++i)if(e[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new h(r["a"].REMOVE,e)),e},e.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var o=this.array_[t];this.array_[t]=e,this.dispatchEvent(new h(r["a"].REMOVE,o)),this.dispatchEvent(new h(r["a"].ADD,e))}else{for(var n=i;n<t;++n)this.insertAt(n,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(a.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===t&&i!==e)throw new o["a"](58)},e}(n["a"]);e["a"]=c},e55f:function(t,e,i){"use strict";var o=i("c2d3"),r=i("4105"),n=i("6c77"),s=i("8682"),a=i("5831"),h=i("83a6"),c=i("ce2c"),l=i("3e6b"),u=i("f403"),p=i("4cdf"),d=i("7a09"),f=i("4334"),y=i("9eba"),_=i("0af5"),g=i("06f8"),v=(i("c52d"),function(t){var e,i;t||(t={}),r["b"].call(this,{handleEvent:function(t){switch(t.type){case"pointerdown":return e=this.handleDownEvent(t),i=e||this._deleteCondition(t),!e;case"pointerup":return e=!1,this.handleUpEvent(t);case"pointerdrag":return!e||this.handleDragEvent(t);case"pointermove":return!!e||this.handleMoveEvent(t);case"singleclick":case"click":return!i;default:return!0}}}),this.snapDistance_=t.pixelTolerance||10,this.tolerance_=1e-10,this.cursor_=t.cursor,this.sources_=t.sources?t.sources instanceof Array?t.sources:[t.sources]:[],t.source&&this.sources_.push(t.source),t.features&&this.sources_.push(new a["a"]({features:t.features})),this.filterSplit_=t.filter||function(){return!0},this._condition=t.condition||g["k"],this._deleteCondition=t.deleteCondition||g["a"],this._insertVertexCondition=t.insertVertexCondition||g["c"];var o=function(){return[new n["c"]({image:new c["a"]({radius:6,fill:new h["a"]({color:[0,153,255,1]}),stroke:new s["a"]({color:"#FFF",width:1.25})})})]};t.style&&(o="function"===typeof t.style?t.style:function(){return t.style}),this.overlayLayer_=new l["a"]({source:new a["a"]({useSpatialIndex:!1}),name:"Modify overlay",displayInLayerSwitcher:!1,style:o,wrapX:t.wrapX})});Object(o["a"])(v,r["b"]),v.prototype.setMap=function(t){this.getMap()&&this.getMap().removeLayer(this.overlayLayer_),f["a"].prototype.setMap.call(this,t),this.overlayLayer_.setMap(t)},v.prototype.setActive=function(t){f["a"].prototype.setActive.call(this,t),this.overlayLayer_&&this.overlayLayer_.getSource().clear()},v.prototype.getClosestFeature=function(t){for(var e,i,o=this.snapDistance_+1,r=0;r<this.sources_.length;r++){var n=this.sources_[r];if(e=n.getClosestFeatureToCoordinate(t.coordinate),e&&this.filterSplit_(e)){var s=e.getGeometry().getClosestPoint(t.coordinate),a=Object(y["a"])(t.coordinate,s)/t.frameState.viewState.resolution;a<o&&(o=a,i=s);break}}if(o>this.snapDistance_)return this.currentFeature&&this.dispatchEvent({type:"select",selected:[],deselected:[this.currentFeature]}),this.currentFeature=null,!1;var h=this.getNearestCoord(i,e.getGeometry());if(h){h=h.coord;var c=this.getMap().getPixelFromCoordinate(h);return Object(y["a"])(t.pixel,c)<this.snapDistance_&&(i=h),this.currentFeature!==e&&this.dispatchEvent({type:"select",selected:[e],deselected:[this.currentFeature]}),this.currentFeature=e,{source:n,feature:e,coord:i}}},v.prototype.getNearestCoord=function(t,e){var i,o,r,n,s;switch(e.getType()){case"Point":return{coord:e.getCoordinates(),dist:Object(y["a"])(e.getCoordinates(),t)};case"MultiPoint":return this.getNearestCoord(t,new d["a"](e.getCoordinates()));case"LineString":case"LinearRing":var a;s=Number.MAX_VALUE;var h=e.getCoordinates();for(i=0;i<h.length;i++)a=Object(y["a"])(t,h[i]),a<s&&(s=a,n=h[i]);return{coord:n,dist:s};case"MultiLineString":var c=e.getLineStrings();for(n=!1,s=Number.MAX_VALUE,i=0;o=c[i];i++)r=this.getNearestCoord(t,o),r&&r.dist<s&&(n=r,s=r.dist,n.ring=i);return n;case"Polygon":var l=e.getLinearRings();for(n=!1,s=Number.MAX_VALUE,i=0;o=l[i];i++)r=this.getNearestCoord(t,o),r&&r.dist<s&&(n=r,s=r.dist,n.ring=i);return n;case"MultiPolygon":var u=e.getPolygons();for(n=!1,s=Number.MAX_VALUE,i=0;o=u[i];i++)r=this.getNearestCoord(t,o),r&&r.dist<s&&(n=r,s=r.dist,n.poly=i);return n;case"GeometryCollection":var p=e.getGeometries();for(n=!1,s=Number.MAX_VALUE,i=0;o=p[i];i++)r=this.getNearestCoord(t,o),r&&r.dist<s&&(n=r,s=r.dist,n.geom=i);return n;default:return!1}},v.prototype.getArcs=function(t,e){var i,o,r,n,s,a=!1;switch(t.getType()){case"Point":Object(y["b"])(e,t.getCoordinates())&&(a={geom:t,type:t.getType(),coord1:[],coord2:[],node:!0});break;case"MultiPoint":for(i=t.getCoordinates(),o=0;o<i.length;o++)if(Object(y["b"])(e,i[o])){a={geom:t,type:t.getType(),index:o,coord1:[],coord2:[],node:!0};break}break;case"LinearRing":case"LineString":var h=t.getClosestPoint(e);if(Object(y["a"])(h,e)<1.5*this.tolerance_){var c;if("LinearRing"===t.getType()?(s=new d["a"](t.getCoordinates()),c=s.splitAt(e,this.tolerance_)):c=t.splitAt(e,this.tolerance_),c.length>2){for(i=c[1].getCoordinates(),o=2;r=c[o];o++){var l=r.getCoordinates();l.shift(),i=i.concat(l)}c=[c[0],new d["a"](i)]}if(2===c.length){var u=c[0].getCoordinates(),p=c[1].getCoordinates(),f=u.length+p.length-1;u.pop(),p.shift(),a={geom:t,type:t.getType(),coord1:u,coord2:p,node:t.getCoordinates().length===f,closed:!1}}else if(1===c.length){r=c[0].getCoordinates();var _=Object(y["b"])(r[0],e),g=Object(y["b"])(r[r.length-1],e);_?(r.shift(),g&&r.pop(),a={geom:t,type:t.getType(),coord1:[],coord2:r,node:!0,closed:g}):g&&(r.pop(),a={geom:t,type:t.getType(),coord1:r,coord2:[],node:!0,closed:!1})}}break;case"MultiLineString":var v=t.getLineStrings();for(o=0;n=v[o];o++)if(a=this.getArcs(n,e),a){a.geom=t,a.type=t.getType(),a.lstring=o;break}break;case"Polygon":var m=t.getLinearRings();for(o=0;n=m[o];o++)if(a=this.getArcs(n,e),a){a.geom=t,a.type=t.getType(),a.index=o;break}break;case"MultiPolygon":var E=t.getPolygons();for(o=0;n=E[o];o++)if(a=this.getArcs(n,e),a){a.geom=t,a.type=t.getType(),a.poly=o;break}break;case"GeometryCollection":for(s=t.getGeometries(),o=0;n=s[o];o++)if(a=this.getArcs(n,e),a){a.geom=t,a.g=o,a.typeg=a.type,a.type=t.getType();break}break;default:console.error("ol/interaction/ModifyFeature "+t.getType()+" not supported!");break}return a},v.prototype.handleDownEvent=function(t){if(!this.getActive())return!1;var e=this.getClosestFeature(t);if(e&&(this._condition(t)||this._deleteCondition(t))){var i=[];return this.arcs=[],this.sources_.forEach(function(t){var o=Object(_["c"])(Object(_["b"])([e.coord]),this.tolerance_);i=i.concat(i,t.getFeaturesInExtent(o))}.bind(this)),this._modifiedFeatures=[],i.forEach(function(i){var o=this.getArcs(i.getGeometry(),e.coord);o&&(this._insertVertexCondition(t)||o.node)&&(o.feature=i,this._modifiedFeatures.push(i),this.arcs.push(o))}.bind(this)),!this._modifiedFeatures.length||(this._deleteCondition(t)?!this._removePoint(e,t):(this.dispatchEvent({type:"modifystart",coordinate:e.coord,originalEvent:t.originalEvent,features:this._modifiedFeatures}),this.handleDragEvent({coordinate:e.coord,originalEvent:t.originalEvent}),!0))}return!1},v.prototype.getModifiedFeatures=function(){return this._modifiedFeatures||[]},v.prototype.removePoint=function(){this._removePoint({},{})},v.prototype._getModification=function(t){var e=t.coord1.concat(t.coord2);switch(t.type){case"LineString":if(t.closed&&e.push(e[0]),e.length>1&&t.geom.getCoordinates().length!=e.length)return t.coords=e,!0;break;case"MultiLineString":if(t.closed&&e.push(e[0]),e.length>1){var i=t.geom.getCoordinates();if(i[t.lstring].length!=e.length)return i[t.lstring]=e,t.coords=i,!0}break;case"Polygon":if(t.closed&&e.push(e[0]),e.length>3&&(i=t.geom.getCoordinates(),i[t.index].length!=e.length))return i[t.index]=e,t.coords=i,!0;break;case"MultiPolygon":if(t.closed&&e.push(e[0]),e.length>3&&(i=t.geom.getCoordinates(),i[t.poly][t.index].length!=e.length))return i[t.poly][t.index]=e,t.coords=i,!0;break;case"GeometryCollection":t.type=t.typeg;var o=t.geom,r=o.getGeometries();t.geom=r[t.g];var n=this._getModification(t);return o.setGeometries(r),t.geom=o,t.type="GeometryCollection",n;default:break}return!1},v.prototype._removePoint=function(t,e){if(!this.arcs)return!1;this.overlayLayer_.getSource().clear();var i=!1;return this.arcs.forEach(function(t){i=i||this._getModification(t)}.bind(this)),i&&(this.dispatchEvent({type:"modifystart",coordinate:t.coord,originalEvent:e.originalEvent,features:this._modifiedFeatures}),this.arcs.forEach(function(t){if("GeometryCollection"===t.geom.getType()){if(t.coords){var e=t.geom.getGeometries();e[t.g].setCoordinates(t.coords),t.geom.setGeometries(e)}}else t.coords&&t.geom.setCoordinates(t.coords)}.bind(this)),this.dispatchEvent({type:"modifyend",coordinate:t.coord,originalEvent:e.originalEvent,features:this._modifiedFeatures})),this.arcs=[],i},v.prototype.handleUpEvent=function(t){return!!this.getActive()&&(!this.arcs||!this.arcs.length||(this.overlayLayer_.getSource().clear(),this.dispatchEvent({type:"modifyend",coordinate:t.coordinate,originalEvent:t.originalEvent,features:this._modifiedFeatures}),this.arcs=[],!0))},v.prototype.setArcCoordinates=function(t,e){var i;switch(t.type){case"Point":t.geom.setCoordinates(e[0]);break;case"MultiPoint":i=t.geom.getCoordinates(),i[t.index]=e[0],t.geom.setCoordinates(i);break;case"LineString":t.geom.setCoordinates(e);break;case"MultiLineString":i=t.geom.getCoordinates(),i[t.lstring]=e,t.geom.setCoordinates(i);break;case"Polygon":i=t.geom.getCoordinates(),i[t.index]=e,t.geom.setCoordinates(i);break;case"MultiPolygon":i=t.geom.getCoordinates(),i[t.poly][t.index]=e,t.geom.setCoordinates(i);break;case"GeometryCollection":t.type=t.typeg;var o=t.geom,r=o.getGeometries();t.geom=r[t.g],this.setArcCoordinates(t,e),o.setGeometries(r),t.geom=o,t.type="GeometryCollection";break}},v.prototype.handleDragEvent=function(t){if(!this.getActive())return!1;if(!this.arcs)return!0;this.overlayLayer_.getSource().clear();var e=new p["a"](new u["a"](t.coordinate));return this.overlayLayer_.getSource().addFeature(e),!this.arcs.length||(this.arcs.forEach(function(e){var i=e.coord1.concat([t.coordinate],e.coord2);e.closed&&i.push(t.coordinate),this.setArcCoordinates(e,i)}.bind(this)),this.dispatchEvent({type:"modifying",coordinate:t.coordinate,originalEvent:t.originalEvent,features:this._modifiedFeatures}),!0)},v.prototype.handleMoveEvent=function(t){if(!this.getActive())return!1;this.overlayLayer_.getSource().clear();var e=this.getClosestFeature(t);if(e){var i=new p["a"](new u["a"](e.coord));this.overlayLayer_.getSource().addFeature(i)}var o=t.map.getTargetElement();this.cursor_&&(e?o.style.cursor!=this.cursor_&&(this.previousCursor_=o.style.cursor,o.style.cursor=this.cursor_):void 0!==this.previousCursor_&&(o.style.cursor=this.previousCursor_,this.previousCursor_=void 0))},v.prototype.getCurrentFeature=function(){return this.currentFeature},e["a"]=v},ebe6:function(t,e,i){"use strict";var o=i("c2d3"),r=i("6c77"),n=i("8682"),s=i("5831"),a=i("83a6"),h=i("3e6b"),c=i("f403"),l=i("4cdf"),u=i("e300"),p=i("4105"),d=i("35d8"),f=i("5bc3"),y=i("0af5"),_=i("35a7"),g=function(t){t||(t={});var e=this;this.selection_=new u["a"],this.handles_=new u["a"],this.overlayLayer_=new h["a"]({source:new s["a"]({features:this.handles_,useSpatialIndex:!1,wrapX:!1}),name:"Transform overlay",displayInLayerSwitcher:!1,style:function(t){return e.style[(t.get("handle")||"default")+(t.get("constraint")||"")+(t.get("option")||"")]}}),p["b"].call(this,{handleDownEvent:this.handleDownEvent_,handleDragEvent:this.handleDragEvent_,handleMoveEvent:this.handleMoveEvent_,handleUpEvent:this.handleUpEvent_}),this.features_=t.features,"function"===typeof t.filter&&(this._filter=t.filter),this.layers_=t.layers?t.layers instanceof Array?t.layers:[t.layers]:null,this._handleEvent=t.condition||function(){return!0},this.addFn_=t.addCondition||function(){return!1},this.set("translateFeature",!1!==t.translateFeature),this.set("translate",!1!==t.translate),this.set("translateBBox",!0===t.translateBBox),this.set("stretch",!1!==t.stretch),this.set("scale",!1!==t.scale),this.set("rotate",!1!==t.rotate),this.set("keepAspectRatio",t.keepAspectRatio||function(t){return t.originalEvent.shiftKey}),this.set("modifyCenter",t.modifyCenter||function(t){return t.originalEvent.metaKey||t.originalEvent.ctrlKey}),this.set("noFlip",t.noFlip||!1),this.set("selection",!1!==t.selection),this.set("hitTolerance",t.hitTolerance||0),this.set("enableRotatedTransform",t.enableRotatedTransform||!1),this.on("propertychange",(function(){this.drawSketch_()})),this.setDefaultStyle()};Object(o["a"])(g,p["b"]),g.prototype.Cursors={default:"auto",select:"pointer",translate:"move",rotate:"move",rotate0:"move",scale:"nesw-resize",scale1:"nwse-resize",scale2:"nesw-resize",scale3:"nwse-resize",scalev:"ew-resize",scaleh1:"ns-resize",scalev2:"ew-resize",scaleh3:"ns-resize"},g.prototype.setMap=function(t){var e=this.getMap();if(e){var i=e.getTargetElement();e.removeLayer(this.overlayLayer_),this.previousCursor_&&i&&(i.style.cursor=this.previousCursor_),this.previousCursor_=void 0}p["b"].prototype.setMap.call(this,t),this.overlayLayer_.setMap(t),null===t&&this.select(null),null!==t&&(this.isTouch=/touch/.test(t.getViewport().className),this.setDefaultStyle())},g.prototype.setActive=function(t){this.select(null),this.overlayLayer_.setVisible(t),p["b"].prototype.setActive.call(this,t)},g.prototype.setDefaultStyle=function(){var t=new n["a"]({color:[255,0,0,1],width:1}),e=new n["a"]({color:[255,0,0,1],width:1,lineDash:[4,4]}),i=new a["a"]({color:[255,0,0,.01]}),o=new a["a"]({color:[255,255,255,.8]}),s=new d["a"]({fill:o,stroke:t,radius:this.isTouch?12:6,points:15});s.getAnchor()[0]=this.isTouch?-10:-5;var h=new d["a"]({fill:o,stroke:t,radius:this.isTouch?16:8,points:4,angle:Math.PI/4}),c=new d["a"]({fill:o,stroke:t,radius:this.isTouch?12:6,points:4,angle:Math.PI/4});function l(t,e,i){return[new r["c"]({image:t,stroke:e,fill:i})]}this.style={default:l(h,e,i),translate:l(h,t,o),rotate:l(s,t,o),rotate0:l(h,t,o),scale:l(h,t,o),scale1:l(h,t,o),scale2:l(h,t,o),scale3:l(h,t,o),scalev:l(c,t,o),scaleh1:l(c,t,o),scalev2:l(c,t,o),scaleh3:l(c,t,o)},this.drawSketch_()},g.prototype.setStyle=function(t,e){if(e){this.style[t]=e instanceof Array?e:[e];for(var i=0;i<this.style[t].length;i++){var o=this.style[t][i].getImage();o&&("rotate"==t&&(o.getAnchor()[0]=-5),this.isTouch&&o.setScale(1.8));var r=this.style[t][i].getText();r&&("rotate"==t&&r.setOffsetX(this.isTouch?14:7),this.isTouch&&r.setScale(1.8))}this.drawSketch_()}},g.prototype.getFeatureAtPixel_=function(t){var e=this;return this.getMap().forEachFeatureAtPixel(t,(function(t,i){var o=!1;if(!i){if(t===e.bbox_)return!!e.get("translateBBox")&&{feature:t,handle:"translate",constraint:"",option:""};if(e.handles_.forEach((function(e){e===t&&(o=!0)})),o)return{feature:t,handle:t.get("handle"),constraint:t.get("constraint"),option:t.get("option")}}if(!e.get("selection"))return e.selection_.getArray().some((function(e){return t===e}))?{feature:t}:null;if(e._filter)return e._filter(t,i)?{feature:t}:null;if(e.layers_){for(var r=0;r<e.layers_.length;r++)if(e.layers_[r]===i)return{feature:t};return null}return e.features_?(e.features_.forEach((function(e){e===t&&(o=!0)})),o?{feature:t}:null):{feature:t}}),{hitTolerance:this.get("hitTolerance")})||{}},g.prototype.getGeometryRotateToZero_=function(t,e){var i=t.getGeometry(),o=this.getMap().getView().getRotation();if(0===o||!this.get("enableRotatedTransform"))return e?i.clone():i;var r=i.clone();return r.rotate(-1*o,this.getMap().getView().getCenter()),r},g.prototype.drawSketch_=function(t){var e,i,o;if(this.overlayLayer_.getSource().clear(),this.selection_.getLength()){var r=this.getMap().getView().getRotation(),n=this.getGeometryRotateToZero_(this.selection_.item(0)).getExtent();if(n=Object(y["c"])(n,0),this.selection_.forEach(function(t){var e=this.getGeometryRotateToZero_(t).getExtent();Object(y["q"])(n,e)}.bind(this)),!0===t)this.ispt_||(this.overlayLayer_.getSource().addFeature(new l["a"]({geometry:new c["a"](this.center_),handle:"rotate0"})),o=Object(f["c"])(n),this.get("enableRotatedTransform")&&0!==r&&o.rotate(r,this.getMap().getView().getCenter()),i=this.bbox_=new l["a"](o),this.overlayLayer_.getSource().addFeature(i));else{if(this.ispt_){var s=this.getMap().getPixelFromCoordinate([n[0],n[1]]);n=Object(y["b"])([this.getMap().getCoordinateFromPixel([s[0]-10,s[1]-10]),this.getMap().getCoordinateFromPixel([s[0]+10,s[1]+10])])}o=Object(f["c"])(n),this.get("enableRotatedTransform")&&0!==r&&o.rotate(r,this.getMap().getView().getCenter()),i=this.bbox_=new l["a"](o);var a=[],h=o.getCoordinates()[0];if(!this.ispt_){if(a.push(i),!this.iscircle_&&this.get("stretch")&&this.get("scale"))for(e=0;e<h.length-1;e++)i=new l["a"]({geometry:new c["a"]([(h[e][0]+h[e+1][0])/2,(h[e][1]+h[e+1][1])/2]),handle:"scale",constraint:e%2?"h":"v",option:e}),a.push(i);if(this.get("scale"))for(e=0;e<h.length-1;e++)i=new l["a"]({geometry:new c["a"](h[e]),handle:"scale",option:e}),a.push(i);this.get("translate")&&!this.get("translateFeature")&&(i=new l["a"]({geometry:new c["a"]([(h[0][0]+h[2][0])/2,(h[0][1]+h[2][1])/2]),handle:"translate"}),a.push(i))}!this.iscircle_&&this.get("rotate")&&(i=new l["a"]({geometry:new c["a"](h[3]),handle:"rotate"}),a.push(i)),this.overlayLayer_.getSource().addFeatures(a)}}},g.prototype.select=function(t,e){if(!t)return this.selection_.clear(),void this.drawSketch_();if(t.getGeometry&&t.getGeometry()){if(e)this.selection_.push(t);else{var i=this.selection_.getArray().indexOf(t);this.selection_.removeAt(i)}this.ispt_=1===this.selection_.getLength()&&"Point"==this.selection_.item(0).getGeometry().getType(),this.iscircle_=1===this.selection_.getLength()&&"Circle"==this.selection_.item(0).getGeometry().getType(),this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:t,features:this.selection_})}},g.prototype.setSelection=function(t){this.selection_.clear(),t.forEach(function(t){this.selection_.push(t)}.bind(this)),this.ispt_=1===this.selection_.getLength()&&"Point"==this.selection_.item(0).getGeometry().getType(),this.iscircle_=1===this.selection_.getLength()&&"Circle"==this.selection_.item(0).getGeometry().getType(),this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",features:this.selection_})},g.prototype.watchFeatures_=function(){this._featureListeners&&this._featureListeners.forEach((function(t){Object(_["b"])(t)})),this._featureListeners=[],this.selection_.forEach(function(t){this._featureListeners.push(t.on("change",function(){this.isUpdating_||this.drawSketch_()}.bind(this)))}.bind(this))},g.prototype.handleDownEvent_=function(t){if(this._handleEvent(t,this.selection_)){var e=this.getFeatureAtPixel_(t.pixel),i=e.feature;if(this.selection_.getLength()&&this.selection_.getArray().indexOf(i)>=0&&(this.ispt_&&this.get("translate")||this.get("translateFeature"))&&(e.handle="translate"),e.handle){this.mode_=e.handle,this.opt_=e.option,this.constraint_=e.constraint;var o=this.getMap().getView().getRotation();this.coordinate_=t.coordinate,this.pixel_=t.pixel,this.geoms_=[],this.rotatedGeoms_=[];for(var r,n=Object(y["j"])(),s=Object(y["j"])(),a=0;r=this.selection_.item(a);a++)if(this.geoms_.push(r.getGeometry().clone()),n=Object(y["q"])(n,r.getGeometry().getExtent()),this.get("enableRotatedTransform")&&0!==o){var h=this.getGeometryRotateToZero_(r,!0);this.rotatedGeoms_.push(h),s=Object(y["q"])(s,h.getExtent())}if(this.extent_=Object(f["c"])(n).getCoordinates()[0],this.get("enableRotatedTransform")&&0!==o&&(this.rotatedExtent_=Object(f["c"])(s).getCoordinates()[0]),"rotate"===this.mode_){this.center_=this.getCenter()||Object(y["x"])(n);var c=t.map.getTargetElement();c.style.cursor=this.Cursors.rotate0,this.previousCursor_=c.style.cursor}else this.center_=Object(y["x"])(n);return this.angle_=Math.atan2(this.center_[1]-t.coordinate[1],this.center_[0]-t.coordinate[0]),this.dispatchEvent({type:this.mode_+"start",feature:this.selection_.item(0),features:this.selection_,pixel:t.pixel,coordinate:t.coordinate}),!0}if(this.get("selection")){if(i){this.addFn_(t)||this.selection_.clear();var l=this.selection_.getArray().indexOf(i);l<0?this.selection_.push(i):this.selection_.removeAt(l)}else this.selection_.clear();return this.ispt_=1===this.selection_.getLength()&&"Point"==this.selection_.item(0).getGeometry().getType(),this.iscircle_=1===this.selection_.getLength()&&"Circle"==this.selection_.item(0).getGeometry().getType(),this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:i,features:this.selection_,pixel:t.pixel,coordinate:t.coordinate}),!1}}},g.prototype.getFeatures=function(){return this.selection_},g.prototype.getCenter=function(){return this.get("center")},g.prototype.setCenter=function(t){return this.set("center",t)},g.prototype.handleDragEvent_=function(t){if(this._handleEvent(t,this.features_)){var e,i,o,r=this.getMap().getView().getRotation(),n=[this.coordinate_[0],this.coordinate_[1]],s=[t.coordinate[0],t.coordinate[1]];switch(this.isUpdating_=!0,this.mode_){case"rotate":var a=Math.atan2(this.center_[1]-s[1],this.center_[0]-s[0]);if(!this.ispt)for(e=0,i;i=this.selection_.item(e);e++)o=this.geoms_[e].clone(),o.rotate(a-this.angle_,this.center_),"Circle"==o.getType()&&o.setCenterAndRadius(o.getCenter(),o.getRadius()),i.setGeometry(o);this.drawSketch_(!0),this.dispatchEvent({type:"rotating",feature:this.selection_.item(0),features:this.selection_,angle:a-this.angle_,pixel:t.pixel,coordinate:t.coordinate});break;case"translate":var h=s[0]-n[0],l=s[1]-n[1];for(e=0,i;i=this.selection_.item(e);e++)i.getGeometry().translate(h,l);this.handles_.forEach((function(t){t.getGeometry().translate(h,l)})),this.coordinate_=t.coordinate,this.dispatchEvent({type:"translating",feature:this.selection_.item(0),features:this.selection_,delta:[h,l],pixel:t.pixel,coordinate:t.coordinate});break;case"scale":var u=this.center_;if(this.get("modifyCenter")(t)){var p=this.extent_;this.get("enableRotatedTransform")&&0!==r&&(p=this.rotatedExtent_),u=p[(Number(this.opt_)+2)%4]}var d=this.coordinate_,f=t.coordinate;if(this.get("enableRotatedTransform")&&0!==r){var y=new c["a"](this.coordinate_);y.rotate(-1*r,u),d=y.getCoordinates();var _=new c["a"](t.coordinate);_.rotate(-1*r,u),f=_.getCoordinates()}var g=(f[0]-u[0])/(d[0]-u[0]),v=(f[1]-u[1])/(d[1]-u[1]);if(this.get("enableRotatedTransform")&&0!==r){var m=new c["a"](u);m.rotate(-1*r,this.getMap().getView().getCenter()),u=m.getCoordinates()}for(this.get("noFlip")&&(g<0&&(g=-g),v<0&&(v=-v)),this.constraint_?"h"==this.constraint_?g=1:v=1:this.get("keepAspectRatio")(t)&&(g=v=Math.min(g,v)),e=0,i;i=this.selection_.item(e);e++)o=0!==r&&this.get("enableRotatedTransform")?this.rotatedGeoms_[e].clone():this.geoms_[e].clone(),o.applyTransform((function(t,e,i){if(i<2)return e;for(var r=0;r<t.length;r+=i)1!=g&&(e[r]=u[0]+(t[r]-u[0])*g),1!=v&&(e[r+1]=u[1]+(t[r+1]-u[1])*v);return"Circle"==o.getType()&&o.setCenterAndRadius(o.getCenter(),o.getRadius()),e})),this.get("enableRotatedTransform")&&0!==r&&o.rotate(r,this.getMap().getView().getCenter()),i.setGeometry(o);this.drawSketch_(),this.dispatchEvent({type:"scaling",feature:this.selection_.item(0),features:this.selection_,scale:[g,v],pixel:t.pixel,coordinate:t.coordinate});break;default:break}this.isUpdating_=!1}},g.prototype.handleMoveEvent_=function(t){if(this._handleEvent(t,this.features_)&&!this.mode_){var e=this.getFeatureAtPixel_(t.pixel),i=t.map.getTargetElement();if(e.feature){var o=e.handle?this.Cursors[(e.handle||"default")+(e.constraint||"")+(e.option||"")]:this.Cursors.select;void 0===this.previousCursor_&&(this.previousCursor_=i.style.cursor),i.style.cursor=o}else void 0!==this.previousCursor_&&(i.style.cursor=this.previousCursor_),this.previousCursor_=void 0}},g.prototype.handleUpEvent_=function(t){if("rotate"===this.mode_){var e=t.map.getTargetElement();e.style.cursor=this.Cursors.default,this.previousCursor_=void 0}return this.dispatchEvent({type:this.mode_+"end",feature:this.selection_.item(0),features:this.selection_,oldgeom:this.geoms_[0],oldgeoms:this.geoms_}),this.drawSketch_(),this.mode_=null,!1},g.prototype.getFeatures=function(){return this.selection_},e["a"]=g},ed9b:function(t,e,i){"use strict";var o=i("1300"),r=i("0ec0"),n=i("01d4"),s=function(t){function e(e,i,o,r){t.call(this),this.extent=e,this.pixelRatio_=o,this.resolution=i,this.state=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(n["a"].CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(o["b"])()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(o["b"])()},e}(r["a"]),a=s,h=i("869f"),c=function(t){function e(e,i,o,r,n){var s=void 0!==n?h["a"].IDLE:h["a"].LOADED;t.call(this,e,i,o,s),this.loader_=void 0!==n?n:null,this.canvas_=r,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=h["a"].ERROR):this.state=h["a"].LOADED,this.changed()},e.prototype.load=function(){this.state==h["a"].IDLE&&(this.state=h["a"].LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(a);e["a"]=c}}]);
//# sourceMappingURL=chunk-8c4a16ce.b48f41de.js.map