{"version":3,"sources":["webpack:///./node_modules/leaflet.antimeridian/dist/leaflet.antimeridian-src.js","webpack:///./node_modules/@openeo/vue-components/components/Collection.vue?9675","webpack:///./node_modules/@openeo/vue-components/components/Collection.vue?1ee1","webpack:///node_modules/@openeo/vue-components/components/Collection.vue","webpack:///./node_modules/@openeo/vue-components/components/Collection.vue?ef45","webpack:///./node_modules/@openeo/vue-components/components/Collection.vue","webpack:///./node_modules/@radiantearth/stac-fields/formatters.js"],"names":["global","factory","exports","this","version","sign","x","NaN","calculateAntimeridianLat","latLngA","latLngB","L","LatLng","lat","temp","A","Math","abs","lng","B","a","Error","isCrossMeridian","pushLatLng","ring","projectedBounds","latlng","map","Array","Bounds","Map","push","latLngToLayerPoint","extend","length","isBreakRing","breakRing","currentLat","nextLat","rings","breakLat","breakLatLngs","shift","pop","Polyline","_projectLatlngs","latlngs","result","isMultiRing","_createRings","i","len","compareLatLng","_getCompareLatLng","currentLatLng","_map","secondMeridianLatLng","_startNextRing","wrappedPolyline","options","Wrapped","Polygon","_checkConcaveRings","_joinLastRing","isLastLatLng","unshift","firstRing","lastRing","firstLatLng","layerPointToLatLng","middleLatLng","lastLatLng","newRing","concat","splice","wrappedPolygon","render","_vm","_h","$createElement","_c","_self","staticClass","_t","attrs","collection","id","_v","_s","$props","title","_e","description","hasElements","keywords","_l","keyword","key","thumbnails","img","href","domProps","license","temporalIntervals","boundingBoxes","interval","stac","Formatters","formatTemporalExtent","ref","bbox","mapOptions","provider","url","name","roles","role","r","dim","type","on","scrollToBands","axis","extent","formatExtent","isArray","values","value","step","reference_system","group","extension","label","prop","field","refInFor","class","wrap","Boolean","custom","items","spec","col","formatted","row","assetLinks","links","staticRenderFns","IMAGE_MEDIA_TYPES","component","Registry","createTableColumns","externalRenderer","prefix","Fields","extensions","_","normalizeField","metadata","specs","addMetadataField","str","String","replace","arr","sort","formatter","list","tag","slice","join","obj","html","formatKey","Object","e","split","part","substr","toUpperCase","fields","alias","assign","format","isObject","createTableColumn","columns","column","DataTypes","unit","toList","v","toObject","num","parseFloat","toLocaleString","bool","boolean","number","string","array","object","null","Date","timeZone","timeZoneName","error","context","match","toLink","licenses","filter","link","rel","formatCommonMark","commonmark","reader","Parser","writer","HtmlRenderer","safe","smart","parse","software","parseInt","formatNull","formatTimestamp","date","indent","tabs","repeat","formatGrouped","coreKey","groups","parts","ext","properties","entry","mergedArrays","keys","forEach","explain","min","max","summaries","i1","summary","i2","i3","itemSpec","b","localeCompare","formatSummaries","formatItemProperties","item","callback","k","formattedValues","normalizeFields","module","Helper"],"mappings":"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","file":"js/chunk-fd8d6c6e.b828cc33.js","sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.L = global.L || {}, global.L.Wrapped = {})));\n}(this, (function (exports) { 'use strict';\n\nvar version = \"1.0.0+master.7986dc5\";\n\n/*\r\n * @namespace L.Wrapped\r\n * Utility functions to perform calculations not always supported by the\r\n * standard Javascript Math namespace.\r\n */\r\n\r\n// @function sign(Number)\r\n// Returns NaN for non-numbers, 0 for 0, -1 for negative numbers,\r\n// 1 for positive numbers\r\nfunction sign(x) {\r\n\treturn typeof x === 'number' ? x ? x < 0 ? -1 : 1 : 0 : NaN;\r\n}\n\n/*\r\n * @namespace L.Wrapped\r\n * Utility functions to calculate various shared aspects of mapping a line\r\n * accross the antimeridian.\r\n */\r\n\r\n// @function calculateAntimeridianLat (latLngA: L.LatLng, latLngB: L.LatLng)\r\n// Returns the calculated latitude where a line drawn between\r\n// two Latitude/Longitude points will cross the antimeridian.\r\nfunction calculateAntimeridianLat(latLngA, latLngB) {\r\n\tif (latLngA instanceof L.LatLng && latLngB instanceof L.LatLng) {\r\n\t\t// Ensure that the latitude A is less than latidue B. This will allow the\r\n\t\t// crossing point to be calculated based on the proportional similarity of\r\n\t\t// right triangles.\r\n\r\n\t\t// Locate which latitude is lower on the map. This will be the most\r\n\t\t// accute angle of the right triangle. If the lowest latitude is not latLngA\r\n\t\t// then swap the latlngs so it is.\r\n\t\tif (latLngA.lat > latLngB.lat) {\r\n\t\t\tvar temp = latLngA;\r\n\t\t\tlatLngA = latLngB;\r\n\t\t\tlatLngB = temp;\r\n\t\t}\r\n\r\n\t\t// This gets the width of the distance between the two points\r\n\t\t// (The bottom of a large right triangle drawn between them)\r\n\t\tvar A = 360 - Math.abs(latLngA.lng - latLngB.lng);\r\n\t\t// This gets the height of the of distance between the two points\r\n\t\t// (The vertical line of a large right triange drawn between them)\r\n\t\tvar B = latLngB.lat - latLngA.lat;\r\n\t\t// This gets the bottom distance of a proportional triangle inside the large\r\n\t\t// trangle where the vertical line instead sits at the 180 mark.\r\n\t\tvar a = Math.abs(180 - Math.abs(latLngA.lng));\r\n\r\n\t\t// Because triangle with identical angles must be proportional along the sides,\r\n\t\t// find the length of the vertical side of that inner triangle and then\r\n\t\t// add it to the lower point to predict the crossing point of the Antimeridian.\r\n\t\treturn latLngA.lat + ((B * a) / A);\r\n\t} else {\r\n\t\tthrow new Error('In order to calculate the Antimeridian latitude, two valid LatLngs are required.');\r\n\t}\r\n}\r\n\r\n// @function isCrossAntimeridian(latLngA: L.LatLng, latLngB: L.LatLng)\r\n// Returns true if the line between the two points will cross either\r\n// the prime meridian (Greenwich) or its antimeridian (International Date Line)\r\nfunction isCrossMeridian(latLngA, latLngB) {\r\n\tif (latLngA instanceof L.LatLng && latLngB instanceof L.LatLng) {\r\n\t\t// Returns true if the signs are not the same.\r\n\t\treturn sign(latLngA.lng) * sign(latLngB.lng) < 0;\r\n\t} else {\r\n\t\tthrow new Error('In order to calculate whether two LatLngs cross a meridian, two valid LatLngs are required.');\r\n\t}\r\n}\r\n\r\n\r\n// @function pushLatLng(ring: L.Point[], projectedBounds: L.Bounds, latlng: L.LatLng, map: L.Map)\r\n// Adds the latlng to the current ring as a layer point and expands the projected bounds.\r\nfunction pushLatLng(ring, projectedBounds, latlng, map) {\r\n\tif (ring instanceof Array && projectedBounds instanceof L.Bounds && latlng instanceof L.LatLng && map instanceof L.Map) {\r\n\t\tring.push(map.latLngToLayerPoint(latlng));\r\n\t\tprojectedBounds.extend(ring[ring.length - 1]);\r\n\t} else {\r\n\t\tthrow new Error('In order to push a LatLng into a ring, the ring point array, the LatLng, the projectedBounds, and the map must all be valid.');\r\n\t}\r\n}\r\n\r\n// @function isBreakRing(latLngA: L.LatLng, latLngB: L.LatLng)\r\n// Determines when the ring should be broken and a new one started.\r\n// This will return true if the distance is smaller when mapped across the Antimeridian.\r\nfunction isBreakRing(latLngA, latLngB) {\r\n\tif (latLngA instanceof L.LatLng && latLngB instanceof L.LatLng) {\r\n\t\treturn isCrossMeridian(latLngA, latLngB)  &&\r\n\t\t(360 - Math.abs(latLngA.lng) - Math.abs(latLngB.lng) < 180);\r\n\r\n\t} else {\r\n\t\tthrow new Error('In order to calculate whether the ring created by two LatLngs should be broken, two valid LatLngs are required.');\r\n\t}\r\n}\r\n\r\n// @function breakRing(currentLat: L.LatLng, nextLat: L.LatLng, rings: L.Point[][],\r\n//  projectedBounds: L.Bounds, map: L.Map)\r\n// Breaks the existing ring along the anti-meridian.\r\n// returns the starting latLng for the next ring.\r\nfunction breakRing(currentLat, nextLat, rings, projectedBounds, map) {\r\n\tif (currentLat instanceof L.LatLng && nextLat instanceof L.LatLng && rings instanceof Array && projectedBounds instanceof L.Bounds && map instanceof L.Map) {\r\n\t\tvar ring = rings[rings.length - 1];\r\n\r\n\t\t// Calculate two points for the anti-meridian crossing.\r\n\t\tvar breakLat = calculateAntimeridianLat(currentLat, nextLat);\r\n\t\tvar breakLatLngs = [new L.LatLng(breakLat, 180), new L.LatLng(breakLat, -180)];\r\n\r\n\t\t// Add in first anti-meridian latlng to this ring to finish it.\r\n\t\t// Positive if positive, negative if negative.\r\n\t\tif (sign(currentLat.lng) > 0) {\r\n\t\t\tpushLatLng(ring, projectedBounds, breakLatLngs.shift(), map);\r\n\t\t} else {\r\n\t\t\tpushLatLng(ring, projectedBounds, breakLatLngs.pop(), map);\r\n\t\t}\r\n\r\n\t\t// Return the second anti-meridian latlng\r\n\t\treturn breakLatLngs.pop();\r\n\t} else {\r\n\t\tthrow new Error('In order to break a ring, all the inputs must exist and be valid.');\r\n\t}\r\n}\n\n/*\r\n * @namespace L.Wrapped\r\n * A polyline that will automatically split and wrap around the Antimeridian (Internation Date Line).\r\n */\r\nvar Polyline = L.Polyline.extend({\r\n\r\n\t// recursively turns latlngs into a set of rings with projected coordinates\r\n\t// This is the entrypoint that is called from the overriden class to change\r\n\t// the rendering.\r\n\t_projectLatlngs: function (latlngs, result, projectedBounds) {\r\n\t\tvar isMultiRing = latlngs[0] instanceof L.LatLng;\r\n\r\n\t\tif (isMultiRing) {\r\n\t\t\tthis._createRings(latlngs, result, projectedBounds);\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < latlngs.length; i++) {\r\n\t\t\t\tthis._projectLatlngs(latlngs[i], result, projectedBounds);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Creates the rings used to render the latlngs.\r\n\t_createRings: function (latlngs, rings, projectedBounds) {\r\n\t\tvar len = latlngs.length;\r\n\t\trings.push([]);\r\n\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tvar compareLatLng = this._getCompareLatLng(i, len, latlngs);\r\n\t\t\tvar currentLatLng = latlngs[i];\r\n\r\n\t\t\tpushLatLng(rings[rings.length - 1], projectedBounds, latlngs[i], this._map);\r\n\r\n\t\t\t// If the next point to check exists, then check to see if the\r\n\t\t\t// ring should be broken.\r\n\t\t\tif (compareLatLng && isBreakRing(compareLatLng, currentLatLng)) {\r\n\t\t\t\tvar secondMeridianLatLng = breakRing(currentLatLng, compareLatLng,\r\n\t\t\t\t\trings, projectedBounds, this._map);\r\n\r\n\t\t\t\tthis._startNextRing(rings, projectedBounds, secondMeridianLatLng);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// returns the latlng to compare the current latlng to.\r\n\t_getCompareLatLng: function (i, len, latlngs) {\r\n\t\treturn (i + 1 < len) ? latlngs[i + 1] : null;\r\n\t},\r\n\r\n\t\t// Starts a new ring and adds the second meridian point.\r\n\t_startNextRing: function (rings, projectedBounds, secondMeridianLatLng) {\r\n\t\tvar ring = [];\r\n\t\trings.push(ring);\r\n\t\tpushLatLng(ring, projectedBounds, secondMeridianLatLng, this._map);\r\n\t}\r\n});\r\n\r\n// @factory L.wrappedPolyline(latlngs: LatLng[], options?: Polyline options)\r\n// Instantiates a polyline that will automatically split around the\r\n// antimeridian (Internation Date Line) if that is a shorter path.\r\nfunction wrappedPolyline(latlngs, options) {\r\n\treturn new L.Wrapped.Polyline(latlngs, options);\r\n}\n\n/*\r\n * @namespace L.Wrapped\r\n * A polygon that will automatically split and wrap around the Antimeridian (Internation Date Line).\r\n */\r\nvar Polygon = L.Polygon.extend({\r\n\r\n\t// recursively turns latlngs into a set of rings with projected coordinates\r\n\t// This is the entrypoint that is called from the overriden class to change\r\n\t// the rendering.\r\n\t_projectLatlngs: function (latlngs, result, projectedBounds) {\r\n\t\tvar isMultiRing = latlngs[0] instanceof L.LatLng;\r\n\r\n\t\tif (isMultiRing) {\r\n\t\t\tthis._createRings(latlngs, result, projectedBounds);\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < latlngs.length; i++) {\r\n\t\t\t\tthis._projectLatlngs(latlngs[i], result, projectedBounds);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Creates the rings used to render the latlngs.\r\n\t_createRings: function (latlngs, rings, projectedBounds) {\r\n\t\tvar len = latlngs.length;\r\n\t\trings.push([]);\r\n\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t// Because this is a polygon, there will always be a comparison latlng\r\n\t\t\tvar compareLatLng = this._getCompareLatLng(i, len, latlngs);\r\n\t\t\tvar currentLatLng = latlngs[i];\r\n\r\n\t\t\tpushLatLng(rings[rings.length - 1], projectedBounds, currentLatLng, this._map);\r\n\r\n\t\t\t// Check to see if the ring should be broken.\r\n\t\t\tif (isBreakRing(compareLatLng, currentLatLng)) {\r\n\t\t\t\tvar secondMeridianLatLng = breakRing(currentLatLng, compareLatLng,\r\n\t\t\t\t\trings, projectedBounds, this._map);\r\n\r\n\t\t\t\tthis._startNextRing(rings, projectedBounds, secondMeridianLatLng, i === len - 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Join the last two rings if needed.\r\n\t\tthis._checkConcaveRings(rings);\r\n\t\tthis._joinLastRing(rings, latlngs);\r\n\t},\r\n\r\n\t// Starts a new ring if needed and adds the second meridian point to the\r\n\t// correct ring.\r\n\t_startNextRing: function (rings, projectedBounds, secondMeridianLatLng, isLastLatLng) {\r\n\t\tvar ring;\r\n\t\tif (!isLastLatLng) {\r\n\t\t\tring = [];\r\n\t\t\trings.push(ring);\r\n\t\t\tpushLatLng(ring, projectedBounds, secondMeridianLatLng, this._map);\r\n\t\t} else {\r\n\t\t\t// If this is the last latlng, don't bother starting a new ring.\r\n\t\t\t// instead, join the last meridian point to the first point, to connect\r\n\t\t\t// the shape correctly.\r\n\t\t\tring = rings[0];\r\n\t\t\tring.unshift(this._map.latLngToLayerPoint(secondMeridianLatLng));\r\n\t\t\tprojectedBounds.extend(ring[0]);\r\n\t\t}\r\n\t},\r\n\r\n\t// returns the latlng to compare the current latlng to.\r\n\t_getCompareLatLng: function (i, len, latlngs) {\r\n\t\treturn (i + 1 < len) ? latlngs[i + 1] : latlngs[0];\r\n\t},\r\n\r\n\t// Joins the last ring to the first if they were accidentally disconnected by\r\n\t// crossing the anti-meridian\r\n\t_joinLastRing: function (rings, latlngs) {\r\n\t\tvar firstRing = rings[0];\r\n\t\tvar lastRing = rings[rings.length - 1];\r\n\r\n\t\t// If either the first or last latlng cross the meridian immediately, then\r\n\t\t// they will be drawn as a single line, not a polygon, since they will not be\r\n\t\t// connected to the last ring. Reconnect them.\r\n\t\tif (rings.length > 1 && (firstRing.length === 2 || lastRing.length === 2) &&\r\n\t\t\t !isCrossMeridian(latlngs[0], latlngs[latlngs.length - 1])) {\r\n\t\t\tvar len = lastRing.length;\r\n\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\tfirstRing.unshift(lastRing.pop());\r\n\t\t\t}\r\n\t\t\t// Remove the empty ring.\r\n\t\t\trings.pop();\r\n\t\t}\r\n\t},\r\n\r\n\t// Check for concave sections of the rings and join the rings if they are\r\n\t// concave\r\n\t_checkConcaveRings: function (rings) {\r\n\t\tvar firstLatLng = this._map.layerPointToLatLng(rings[0][0]);\r\n\r\n\t\tfor (var i = 0; i <= rings.length - 3; i++) {\r\n\t\t\tvar middleLatLng = this._map.layerPointToLatLng(rings[i + 1][0]);\r\n\t\t\tvar lastLatLng = this._map.layerPointToLatLng(rings[i + 2][0]);\r\n\r\n\t\t\t// If the meridian is crossed and then is crossed again\r\n\t\t\t// over the first polygon, the polygon is concave. Join the rings.\r\n\t\t\tif (isCrossMeridian(firstLatLng, middleLatLng) &&\r\n\t\t\tisCrossMeridian(middleLatLng, lastLatLng)) {\r\n\t\t\t\tvar firstRing = rings[0];\r\n\t\t\t\tvar lastRing = rings[i + 2];\r\n\r\n\t\t\t\tvar newRing = firstRing.concat(lastRing);\r\n\r\n\t\t\t\t// Remove the joined polygon and then update the first polygon.\r\n\t\t\t\trings.splice(i + 2, 1);\r\n\t\t\t\trings.splice(0, 1, newRing);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// @factory L.wrappedPolygon(latlngs: LatLng[], options?: Polygon options)\r\n// Instantiates a polygon that will automatically split around the\r\n// antimeridian (Internation Date Line) if that is a shorter path.\r\nfunction wrappedPolygon(latlngs, options) {\r\n\treturn new L.Wrapped.Polygon(latlngs, options);\r\n}\n\nexports.version = version;\nexports.Polyline = Polyline;\nexports.wrappedPolyline = wrappedPolyline;\nexports.Polygon = Polygon;\nexports.wrappedPolygon = wrappedPolygon;\nexports.calculateAntimeridianLat = calculateAntimeridianLat;\nexports.isCrossMeridian = isCrossMeridian;\nexports.isBreakRing = isBreakRing;\nexports.sign = sign;\n\n})));\n//# sourceMappingURL=leaflet.antimeridian-src.js.map\n","export * from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./Collection.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"vue-component collection\"},[_vm._t(\"title\",[_c('a',{staticClass:\"anchor\",attrs:{\"name\":_vm.collection.id}}),_c('h2',[_vm._v(_vm._s(_vm.collection.id))])],null,_vm.$props),(_vm.collection.title)?_c('summary',[_vm._v(_vm._s(_vm.collection.title))]):_vm._e(),_vm._t(\"before-description\",null,null,_vm.$props),(_vm.collection.description)?_c('section',{staticClass:\"description\"},[_c('h3',[_vm._v(\"Description\")]),_c('Description',{attrs:{\"description\":_vm.collection.description}}),(_vm.collection.deprecated)?_c('DeprecationNotice',{attrs:{\"entity\":\"collection\"}}):_vm._e(),(_vm.hasElements(_vm.collection.keywords))?_c('div',[_c('strong',[_vm._v(\"Keywords:\")]),_vm._v(\" \"),_c('ul',{staticClass:\"comma-separated-list\"},_vm._l((_vm.collection.keywords),function(keyword,i){return _c('li',{key:i},[_vm._v(_vm._s(keyword))])}),0)]):_vm._e()],1):_vm._e(),(_vm.thumbnails.length)?_c('section',{staticClass:\"preview\"},[_c('h3',[_vm._v(\"Previews\")]),_c('div',{staticClass:\"thumbnails\"},_vm._l((_vm.thumbnails),function(img,i){return _c('a',{key:i,attrs:{\"href\":img.href,\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":img.href,\"title\":img.title,\"alt\":img.title || 'Preview'}})])}),0)]):_vm._e(),_c('section',{staticClass:\"license\"},[_c('h3',[_vm._v(\"License\")]),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.license)}})]),(_vm.temporalIntervals.length || _vm.boundingBoxes.length)?_c('section',{staticClass:\"extent\"},[(_vm.temporalIntervals.length)?[_c('h3',[_vm._v(\"Temporal Extent\")]),_vm._t(\"temporal-extents\",_vm._l((_vm.temporalIntervals),function(interval,i){return _c('ul',{key:i},[_c('li',[_vm._v(_vm._s(_vm.stac.Formatters.formatTemporalExtent(interval)))])])}),{\"extents\":_vm.temporalIntervals})]:_vm._e(),(_vm.boundingBoxes.length)?[_c('h3',[_vm._v(\"Spatial Extent\")]),_vm._t(\"spatial-extents\",[_c('div',{ref:\"mapContainer\",staticClass:\"map\"},[(!_vm.map)?_vm._l((_vm.boundingBoxes),function(bbox,i){return _c('ul',{key:i},[_c('li',[_vm._v(\"Latitudes: \"+_vm._s(bbox[1])+\" / \"+_vm._s(bbox[3])+\", Longitudes: \"+_vm._s(bbox[0])+\" / \"+_vm._s(bbox[2]))])])}):_vm._e()],2)],{\"extents\":_vm.boundingBoxes,\"mapOptions\":_vm.mapOptions})]:_vm._e()],2):_vm._e(),(_vm.collection.providers)?_c('section',{staticClass:\"providers\"},[_c('h3',[_vm._v(\"Providers\")]),_c('ol',_vm._l((_vm.collection.providers),function(provider,key){return _c('li',{key:key},[(provider.url)?_c('a',{attrs:{\"href\":provider.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(provider.name))]):[_vm._v(_vm._s(provider.name))],(_vm.hasElements(provider.roles))?[_vm._v(\" (\"),_c('ul',{staticClass:\"comma-separated-list\"},_vm._l((provider.roles),function(role,r){return _c('li',{key:r,staticClass:\"provider-role\"},[_vm._v(_vm._s(role))])}),0),_vm._v(\") \")]:_vm._e(),(provider.description)?_c('Description',{attrs:{\"description\":provider.description,\"compact\":true}}):_vm._e()],2)}),0)]):_vm._e(),(_vm.hasDimensions)?_c('section',{staticClass:\"dimensions\"},[_c('h3',[_vm._v(\"Data Cube Dimensions\")]),_c('ul',_vm._l((_vm.collection['cube:dimensions']),function(dim,name){return _c('li',{key:name,staticClass:\"dimension\"},[_c('h4',[(dim.type === 'bands')?_c('a',{staticClass:\"name\",attrs:{\"href\":\"#summary_eo:bands\"},on:{\"click\":_vm.scrollToBands}},[_vm._v(_vm._s(name))]):_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(name))]),_c('ul',{staticClass:\"type badges small\"},[_c('li',{staticClass:\"badge\"},[_vm._v(_vm._s(dim.type))])])]),(dim.description)?_c('Description',{attrs:{\"description\":dim.description}}):_vm._e(),(dim.axis)?_c('div',{staticClass:\"tabular\"},[_c('label',[_vm._v(\"Axis:\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(dim.axis))])]):_vm._e(),_c('div',{staticClass:\"tabular\"},[_c('label',[_vm._v(\"Labels:\")]),(dim.extent)?_c('div',{staticClass:\"value\"},[(dim.type === 'temporal')?[_vm._v(_vm._s(_vm.stac.Formatters.formatTemporalExtent(dim.extent)))]:[_vm._v(_vm._s(_vm.stac.Formatters.formatExtent(dim.extent)))]],2):(Array.isArray(dim.values) && dim.values.length > 0)?_c('ul',{staticClass:\"value\"},_vm._l((dim.values),function(value,i){return _c('li',{key:i},[_vm._v(_vm._s(value))])}),0):_c('div',{staticClass:\"value\"},[_c('i',[_vm._v(\"n/a\")])])]),(typeof dim.step !== 'undefined')?_c('div',{staticClass:\"tabular\"},[_c('label',[_vm._v(\"Steps:\")]),_c('div',{staticClass:\"value\"},[(dim.step === null)?[_vm._v(\"irregularly spaced\")]:[_vm._v(_vm._s(dim.step))]],2)]):_vm._e(),(typeof dim.reference_system !== 'undefined')?_c('div',{staticClass:\"tabular\"},[_c('label',[_vm._v(\"Reference System:\")]),_c('div',{staticClass:\"value\"},[(typeof dim.reference_system === 'number')?[_vm._v(\"EPSG \"+_vm._s(dim.reference_system))]:[_vm._v(_vm._s(dim.reference_system))]],2)]):_vm._e()],1)}),0)]):_vm._e(),(_vm.hasSummaries)?_c('section',{staticClass:\"summaries\"},[_vm._l((_vm.summaries),function(group){return [_c('h3',{key:group.extension,domProps:{\"innerHTML\":_vm._s(group.label)}}),_vm._l((group.properties),function(prop,field){return _c('div',{key:'summary_' + field,ref:'summary_' + field,refInFor:true,staticClass:\"tabular\",class:{wrap: Boolean(prop.custom || prop.items)}},[_c('label',{attrs:{\"title\":field},domProps:{\"innerHTML\":_vm._s(_vm.stac.label(field))}}),(prop.items)?_c('div',{staticClass:\"value\"},_vm._l((prop.formatted),function(value,i){return _c('table',{key:i,staticClass:\"table\"},[_c('thead',[_c('tr',[(!Array.isArray(value))?_c('th'):_vm._e(),_vm._l((prop.items),function(spec,col){return _c('th',{key:col,domProps:{\"innerHTML\":_vm._s(_vm.stac.label(col, prop.items))}})})],2)]),_c('tbody',_vm._l((prop.formatted[i]),function(row,i){return _c('tr',{key:i},[(!Array.isArray(value))?_c('th',[_vm._v(_vm._s(i))]):_vm._e(),_vm._l((prop.items),function(spec,col){return _c('td',{key:col,domProps:{\"innerHTML\":_vm._s(row[col])}})})],2)}),0)])}),0):(prop.formatted)?_c('div',{staticClass:\"value\",domProps:{\"innerHTML\":_vm._s(prop.formatted)}}):_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(prop.value))])])})]})],2):_vm._e(),_c('section',{staticClass:\"assets\"},[_c('LinkList',{attrs:{\"links\":_vm.assetLinks,\"heading\":\"Assets\",\"headingTag\":\"h3\"}})],1),_c('section',{staticClass:\"links\"},[_c('LinkList',{attrs:{\"links\":_vm.collection.links,\"heading\":\"See Also\",\"headingTag\":\"h3\",\"ignoreRel\":['self', 'parent', 'root', 'license', 'cite-as']}})],1),_vm._t(\"end\",null,null,_vm.$props)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<article class=\"vue-component collection\">\r\n\r\n\t\t<slot name=\"title\" v-bind=\"$props\">\r\n\t\t\t<a class=\"anchor\" :name=\"collection.id\"></a>\r\n\t\t\t<h2>{{ collection.id }}</h2>\r\n\t\t</slot>\r\n\r\n\t\t<summary v-if=\"collection.title\">{{collection.title}}</summary>\r\n\r\n\t\t<slot name=\"before-description\" v-bind=\"$props\"></slot>\r\n\r\n\t\t<section class=\"description\" v-if=\"collection.description\">\r\n\t\t\t<h3>Description</h3>\r\n\r\n\t\t\t<Description :description=\"collection.description\"></Description>\r\n\r\n\t\t\t<DeprecationNotice v-if=\"collection.deprecated\" entity=\"collection\" />\r\n\r\n\t\t\t<div v-if=\"hasElements(collection.keywords)\">\r\n\t\t\t\t<strong>Keywords:</strong>&nbsp;\r\n\t\t\t\t<ul class=\"comma-separated-list\">\r\n\t\t\t\t\t<li v-for=\"(keyword, i) in collection.keywords\" :key=\"i\">{{ keyword }}</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"preview\" v-if=\"thumbnails.length\">\r\n\t\t\t<h3>Previews</h3>\r\n\t\t\t<div class=\"thumbnails\">\r\n\t\t\t\t<a v-for=\"(img, i) in thumbnails\" :key=\"i\" :href=\"img.href\" target=\"_blank\">\r\n\t\t\t\t\t<img :src=\"img.href\" :title=\"img.title\" :alt=\"img.title || 'Preview'\" />\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"license\">\r\n\t\t\t<h3>License</h3>\r\n\t\t\t<span v-html=\"license\" />\r\n\t\t</section>\r\n\r\n\t\t<section class=\"extent\" v-if=\"temporalIntervals.length || boundingBoxes.length\">\r\n\t\t\t<template v-if=\"temporalIntervals.length\">\r\n\t\t\t\t<h3>Temporal Extent</h3>\r\n\t\t\t\t<slot name=\"temporal-extents\" :extents=\"temporalIntervals\">\r\n\t\t\t\t\t<ul v-for=\"(interval, i) in temporalIntervals\" :key=\"i\">\r\n\t\t\t\t\t\t<li>{{ stac.Formatters.formatTemporalExtent(interval) }}</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</slot>\r\n\t\t\t</template>\r\n\t\t\r\n\t\t\t<template v-if=\"boundingBoxes.length\">\r\n\t\t\t<h3>Spatial Extent</h3>\r\n\t\t\t\t<slot name=\"spatial-extents\" :extents=\"boundingBoxes\" :mapOptions=\"mapOptions\">\r\n\t\t\t\t\t<div class=\"map\" ref=\"mapContainer\">\r\n\t\t\t\t\t\t<template v-if=\"!map\">\r\n\t\t\t\t\t\t\t<ul v-for=\"(bbox, i) in boundingBoxes\" :key=\"i\">\r\n\t\t\t\t\t\t\t\t<li>Latitudes: {{ bbox[1] }} / {{ bbox[3] }}, Longitudes: {{ bbox[0] }} / {{ bbox[2] }}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</slot>\r\n\t\t\t</template>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"providers\" v-if=\"collection.providers\">\r\n\t\t\t<h3>Providers</h3>\r\n\t\t\t<ol>\r\n\t\t\t\t<li v-for=\"(provider, key) in collection.providers\" :key=\"key\">\r\n\t\t\t\t\t<a v-if=\"provider.url\" :href=\"provider.url\" target=\"_blank\">{{ provider.name }}</a>\r\n\t\t\t\t\t<template v-else>{{ provider.name }}</template>\r\n\t\t\t\t\t<template v-if=\"hasElements(provider.roles)\">\r\n\t\t\t\t\t\t(<ul class=\"comma-separated-list\">\r\n\t\t\t\t\t\t\t<li v-for=\"(role, r) in provider.roles\" :key=\"r\" class=\"provider-role\">{{ role }}</li>\r\n\t\t\t\t\t\t</ul>)\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<Description v-if=\"provider.description\" :description=\"provider.description\" :compact=\"true\" />\r\n\t\t\t\t</li>\r\n\t\t\t</ol>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"dimensions\" v-if=\"hasDimensions\">\r\n\t\t\t<h3>Data Cube Dimensions</h3>\r\n\t\t\t<ul>\r\n\t\t\t\t<li v-for=\"(dim, name) in collection['cube:dimensions']\" :key=\"name\" class=\"dimension\">\r\n\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t<a v-if=\"dim.type === 'bands'\" @click=\"scrollToBands\" class=\"name\" href=\"#summary_eo:bands\">{{ name }}</a>\r\n\t\t\t\t\t\t<span v-else class=\"name\">{{ name }}</span>\r\n\t\t\t\t\t\t<ul class=\"type badges small\"><li class=\"badge\">{{ dim.type }}</li></ul>\r\n\t\t\t\t\t</h4>\r\n\t\t\t\t\t<Description v-if=\"dim.description\" :description=\"dim.description\" />\r\n\t\t\t\t\t<div class=\"tabular\" v-if=\"dim.axis\">\r\n\t\t\t\t\t\t<label>Axis:</label>\r\n\t\t\t\t\t\t<div class=\"value\">{{ dim.axis }}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"tabular\">\r\n\t\t\t\t\t\t<label>Labels:</label>\r\n\t\t\t\t\t\t<div v-if=\"dim.extent\" class=\"value\">\r\n\t\t\t\t\t\t\t<template v-if=\"dim.type === 'temporal'\">{{ stac.Formatters.formatTemporalExtent(dim.extent) }}</template>\r\n\t\t\t\t\t\t\t<template v-else>{{ stac.Formatters.formatExtent(dim.extent) }}</template>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ul v-else-if=\"Array.isArray(dim.values) && dim.values.length > 0\" class=\"value\">\r\n\t\t\t\t\t\t\t<li v-for=\"(value, i) in dim.values\" :key=\"i\">{{ value }}</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<div v-else class=\"value\"><i>n/a</i></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"tabular\" v-if=\"typeof dim.step !== 'undefined'\">\r\n\t\t\t\t\t\t<label>Steps:</label>\r\n\t\t\t\t\t\t<div class=\"value\">\r\n\t\t\t\t\t\t\t<template v-if=\"dim.step === null\">irregularly spaced</template>\r\n\t\t\t\t\t\t\t<template v-else>{{ dim.step }}</template>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"tabular\" v-if=\"typeof dim.reference_system !== 'undefined'\">\r\n\t\t\t\t\t\t<label>Reference System:</label>\r\n\t\t\t\t\t\t<div class=\"value\">\r\n\t\t\t\t\t\t\t<template v-if=\"typeof dim.reference_system === 'number'\">EPSG {{ dim.reference_system }}</template>\r\n\t\t\t\t\t\t\t<template v-else>{{ dim.reference_system }}</template>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"summaries\" v-if=\"hasSummaries\">\r\n\t\t\t<template v-for=\"group in summaries\">\r\n\t\t\t\t<h3 v-html=\"group.label\" :key=\"group.extension\" />\r\n\t\t\t\t<div v-for=\"(prop, field) in group.properties\" :key=\"'summary_' + field\" :ref=\"'summary_' + field\" class=\"tabular\" :class=\"{wrap: Boolean(prop.custom || prop.items)}\">\r\n\t\t\t\t\t<label :title=\"field\" v-html=\"stac.label(field)\" />\r\n\t\t\t\t\t<div v-if=\"prop.items\" class=\"value\">\r\n\t\t\t\t\t\t<table v-for=\"(value, i) in prop.formatted\" :key=\"i\" class=\"table\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th v-if=\"!Array.isArray(value)\">&nbsp;</th>\r\n\t\t\t\t\t\t\t\t\t<th v-for=\"(spec, col) in prop.items\" :key=\"col\" v-html=\"stac.label(col, prop.items)\"></th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t<tr v-for=\"(row, i) in prop.formatted[i]\" :key=\"i\">\r\n\t\t\t\t\t\t\t\t\t<th v-if=\"!Array.isArray(value)\">{{ i }}</th>\r\n\t\t\t\t\t\t\t\t\t<td v-for=\"(spec, col) in prop.items\" :key=\"col\" v-html=\"row[col]\" />\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div v-else-if=\"prop.formatted\" class=\"value\" v-html=\"prop.formatted\" />\r\n\t\t\t\t\t<div class=\"value\" v-else>{{ prop.value }}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"assets\">\r\n\t\t\t<LinkList :links=\"assetLinks\" heading=\"Assets\" headingTag=\"h3\" />\r\n\t\t</section>\r\n\r\n\t\t<section class=\"links\">\r\n\t\t\t<LinkList :links=\"collection.links\" heading=\"See Also\" headingTag=\"h3\" :ignoreRel=\"['self', 'parent', 'root', 'license', 'cite-as']\" />\r\n\t\t</section>\r\n\r\n\t\t<slot name=\"end\" v-bind=\"$props\"></slot>\r\n\r\n\t</article>\r\n</template>\r\n\r\n<script>\r\nimport StacFields from '@radiantearth/stac-fields';\r\nimport Utils from '../utils';\r\n\r\nconst IMAGE_MEDIA_TYPES = ['image/apng', 'image/gif', 'image/png', 'image/jpeg', 'image/webp'];\r\n\r\nStacFields.Registry.externalRenderer = true;\r\nStacFields.Registry.addMetadataFields({\r\n\t\"eo:platform\": {\r\n\t\talias: \"platform\"\r\n\t},\r\n\t\"eo:instrument\": {\r\n\t\talias: \"instruments\"\r\n\t},\r\n\t\"gee:type\": {\r\n\t\tlabel: \"Collection Type\",\r\n\t\tformatter: StacFields.label\r\n\t}\r\n});\r\n\r\nexport default Utils.enableHtmlProps({\r\n\tname: 'Collection',\r\n\tcomponents: {\r\n\t\tDescription: () => import('./Description.vue'),\r\n\t\tDeprecationNotice: () => import('./DeprecationNotice.vue'),\r\n\t\tLinkList: () => import('./LinkList.vue')\r\n\t},\r\n\tprops: {\r\n\t\tcollection: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({})\r\n\t\t},\r\n\t\tmapOptions: {\r\n\t\t\t// It's not possible to specify defaults for the individual properties, therefore this prop is only accessed through a computed property which adds them in.\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({}),\r\n\t\t\tvalidator: function(value) {\r\n\t\t\t\tconst allowedTypes = {  // keep in sync with Readme\r\n\t\t\t\t\theight: \"string\",\r\n\t\t\t\t\twidth: \"string\",\r\n\t\t\t\t\twrapAroundAntimeridian: \"boolean\",\r\n\t\t\t\t\tscrollWheelZoom: \"boolean\"\r\n\t\t\t\t};\r\n\t\t\t\tconst allowedKeys = Object.keys(allowedTypes);\r\n\t\t\t\treturn typeof value == 'object' && Object.keys(value).every(key =>\r\n\t\t\t\t\tallowedKeys.indexOf(key) != -1 && typeof value[key] == allowedTypes[key]\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmap: null,\r\n\t\t\tstac: StacFields\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tsummaries() {\r\n\t\t\tlet summaries = Object.assign({}, this.collection.summaries);\r\n\r\n\t\t\tfor(let key in this.collection) {\r\n\t\t\t\t// Move all custom top-level fields to summaries for easier visualization\r\n\t\t\t\tif (key === 'version' || (key !== 'cube:dimensions' && key.includes(':'))) {\r\n\t\t\t\t\tsummaries[key] = [this.collection[key]];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet collection = Object.assign({}, this.collection, {summaries});\r\n\t\t\treturn StacFields.formatSummaries(collection);\r\n\t\t},\r\n\t\ttemporalIntervals() {\r\n\t\t\tlet e = this.collection.extent;\r\n\t\t\tif (Utils.isObject(e) && Utils.isObject(e.temporal) && Utils.size(e.temporal.interval) > 0) {\r\n\t\t\t\treturn e.temporal.interval.filter(interval => Array.isArray(interval) && interval.length >= 2);\r\n\t\t\t}\r\n\t\t\treturn [];\r\n\t\t},\r\n\t\tboundingBoxes() {\r\n\t\t\tlet e = this.collection.extent;\r\n\t\t\tif (Utils.isObject(e) && Utils.isObject(e.spatial) && Utils.size(e.spatial.bbox) > 0) {\r\n\t\t\t\treturn e.spatial.bbox.filter(bbox => Array.isArray(bbox) && bbox.length >= 4);\r\n\t\t\t}\r\n\t\t\treturn [];\r\n\t\t},\r\n\t\tleafletOptions() {\r\n\t\t\treturn {  // keep in sync with Readme\r\n\t\t\t\theight: this.mapOptions.height || \"300px\",\r\n\t\t\t\twidth: this.mapOptions.width || \"auto\",\r\n\t\t\t\tnoWrap: this.mapOptions.wrapAroundAntimeridian === undefined ? true : !this.mapOptions.wrapAroundAntimeridian,  // negate!\r\n\t\t\t\tscrollWheelZoom: this.mapOptions.scrollWheelZoom === undefined ? false : this.mapOptions.scrollWheelZoom\r\n\t\t\t}\r\n\t\t},\r\n\t\thasDimensions() {\r\n\t\t\treturn Utils.size(this.collection['cube:dimensions']) > 0;\r\n\t\t},\r\n\t\thasSummaries() {\r\n\t\t\treturn Utils.size(this.summaries) > 0;\r\n\t\t},\r\n\t\tassetLinks() {\r\n\t\t\tif (!Utils.isObject(this.collection.assets)) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn Object.values(this.collection.assets)\r\n\t\t\t\t// Remove all thumbnails (covered by separate thumbnails viewer)\r\n\t\t\t\t.filter(a => !this.assetIsImage(a))\r\n\t\t\t\t// Convert from asset to links so that LinkList can be used\r\n\t\t\t\t.map(a => {\r\n\t\t\t\t\tif (Array.isArray(a.role) && a.roles.length > 0) {\r\n\t\t\t\t\t\ta.rel = a.roles.join(' ');\r\n\t\t\t\t\t\tdelete a.roles;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn a;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tthumbnails() {\r\n\t\t\tif (!Utils.isObject(this.collection.assets)) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn Object.values(this.collection.assets).filter(this.assetIsImage);\r\n\t\t},\r\n\t\tlicense() {\r\n\t\t\tif (typeof this.collection.license !== 'string' || this.collection.license.length === 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn this.stac.Formatters.formatLicense(this.collection.license, null, null, this.collection);\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.initMap();\r\n\t},\r\n\tmethods: {\r\n\t\tassetIsImage(asset) {\r\n\t\t\treturn Array.isArray(asset.roles) && asset.roles.includes('thumbnail') && IMAGE_MEDIA_TYPES.includes(asset.type);\r\n\t\t},\r\n\t\tasync initMap() {\r\n\t\t\tif (!this.$refs.mapContainer) {\r\n\t\t\t\tawait this.$nextTick();\r\n\t\t\t}\r\n\t\t\tif (!this.$refs.mapContainer || this.map !== null || this.boundingBoxes.length === 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tvar L = require('leaflet');\r\n\t\t\t\tif (!L) {\r\n\t\t\t\t\tconsole.warn(\"Leaflet is not available\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\timport('leaflet/dist/leaflet.css');\r\n\t\t\t\tvar map = new L.Map(this.$refs.mapContainer, {scrollWheelZoom: this.leafletOptions.scrollWheelZoom});\r\n\t\t\t\tvar osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n\t\t\t\t\tname: 'OpenStreetMap',\r\n\t\t\t\t\tattribution: 'Map data &copy; <a href=\"http://www.osm.org\">OpenStreetMap</a>',\r\n\t\t\t\t\tnoWrap: this.leafletOptions.noWrap\r\n\t\t\t\t});\r\n\t\t\t\tosm.addTo(map);\r\n\r\n\t\t\t\tlet features = L.featureGroup();\r\n\t\t\t\tfeatures.addTo(map);\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tL.Wrapped = require('leaflet.antimeridian');\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.warn(\"Leaflet Antimeridian plugin is not available\");\r\n\t\t\t\t}\r\n\t\t\t\tfor(let bbox of this.boundingBoxes) {\r\n\t\t\t\t\tlet p = [[bbox[1], bbox[0]], [bbox[3], bbox[0]], [bbox[3], bbox[2]], [bbox[1], bbox[2]]];\r\n\t\t\t\t\tlet rect;\r\n\t\t\t\t\tif (L.Wrapped && bbox[2] < bbox[0]) {\r\n\t\t\t\t\t\trect = new L.Wrapped.Polygon(p);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\trect = L.polygon(p);\r\n\t\t\t\t\t}\r\n\t\t\t\t\trect.setStyle({\r\n\t\t\t\t\t\tcolor: '#3388ff',\r\n\t\t\t\t\t\tfillOpacity: 0.2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tfeatures.addLayer(rect);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.map = {\r\n\t\t\t\t\tinstance: map,\r\n\t\t\t\t\trectangles: features\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.setMapSize(this.leafletOptions.height, this.leafletOptions.width);\r\n\t\t\t\tif (typeof this.mapOptions.onAfterMapInit === 'function') {\r\n\t\t\t\t\ttypeof this.mapOptions.onAfterMapInit(map, features);\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetMapSize(height, width) {\r\n\t\t\t// Update map container in DOM\r\n\t\t\tthis.$refs.mapContainer.style.width = width;\r\n\t\t\tthis.$refs.mapContainer.style.height = height;\r\n\t\t\tthis.map.instance.invalidateSize(false);\r\n\t\t\t// Compute somewhat smart map extent and zoom level around bbox\r\n\t\t\tvar bounds = this.map.rectangles.getBounds();\r\n\t\t\tvar zoom = this.map.instance.getBoundsZoom(bounds);\r\n\t\t\tvar newZoom = Math.min(zoom, 11); // Never zoom closer than 8\r\n\t\t\tif (zoom > 8) {\r\n\t\t\t\tnewZoom = newZoom - 3; // Zoom out three levels\r\n\t\t\t}\r\n\t\t\telse if (zoom > 5) {\r\n\t\t\t\tnewZoom = newZoom - 2; // Zoom out two levels\r\n\t\t\t}\r\n\t\t\telse if (zoom > 2) {\r\n\t\t\t\tnewZoom--; // Zoom out one level\r\n\t\t\t}\r\n\t\t\tthis.map.instance.fitBounds(bounds);\r\n\t\t\tthis.map.instance.setZoom(newZoom);\r\n\r\n\t\t\tthis.map.instance.once('moveend zoomend', () => this.map.instance.invalidateSize(false));\r\n\t\t},\r\n\t\tscrollToBands(evt) {\r\n\t\t\tlet id = 'summary_eo:bands';\r\n\t\t\tif (Array.isArray(this.$refs[id]) && this.$refs[id].length) {\r\n\t\t\t\tvar elem = this.$refs[id][0];\r\n\t\t\t\telem.scrollIntoView();\r\n\t\t\t\telem.classList.add('highlight-box');\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\telem.classList.remove('highlight-box');\r\n\t\t\t\t}, 5000);\r\n\t\t\t}\r\n\t\t\tevt.preventDefault();\r\n\t\t},\r\n\t\thasElements(data) {\r\n\t\t\treturn (typeof data === 'object' && data !== null && Object.keys(data).length > 0);\r\n\t\t}\r\n\t}\r\n})\r\n</script>\r\n\r\n<style>\r\n@import url('./base.css');\r\n\r\n.vue-component.collection .map {\r\n\tbackground: transparent;\r\n}\r\n.vue-component.collection .dimension h4 {\r\n\tmargin: 0;\r\n}\r\n.vue-component.collection .dimension .type {\r\n\tfont-weight: normal;\r\n\tfont-size: 90%;\r\n\tmargin-left: 0.5em;\r\n}\r\n.vue-component.collection .dimension label {\r\n\tfont-weight: normal;\r\n}\r\n.vue-component.collection .provider-role {\r\n\ttext-transform: capitalize;\r\n}\r\n.vue-component.collection .tabular {\r\n\tmargin: 0.5em 0;\r\n}\r\n.vue-component.collection .tabular.wrap {\r\n\tdisplay: block;\r\n}\r\n.vue-component.collection .tabular.wrap .value {\r\n\tmargin-top: 0.5em;\r\n\tmargin-left: 1em;\r\n\tmargin-bottom: 2em;\r\n}\r\n.vue-component.collection .tabular .value ul {\r\n\tpadding-left: 20px;\r\n}\r\n.vue-component.collection .links:empty, .assets.empty {\r\n\tdisplay: none;\r\n}\r\n.vue-component.collection .thumbnails {\r\n\toverflow-x: auto;\r\n    overflow-y: hidden;\r\n    width: 100%;\r\n    white-space: nowrap;\r\n\tpadding: 5px;\r\n}\r\n.vue-component.collection .thumbnails a {\r\n\tborder: 5px solid transparent;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.vue-component.collection .thumbnails a:hover img {\r\n\tborder: 2px solid black;\r\n}\r\n.vue-component.collection .thumbnails a img {\r\n\tmax-height: 200px;\r\n\tborder: 2px solid white;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.vue-component.collection .summaries .table {\r\n\twidth: 100%;\r\n\tborder-collapse: collapse;\r\n}\r\n.vue-component.collection .summaries .table th {\r\n\ttext-align: left;\r\n\tbackground-color: #eee;\r\n}\r\n.vue-component.collection .summaries .table td,\r\n.vue-component.collection .summaries .table th {\r\n\tborder: 1px solid #ccc;\r\n\tpadding: 3px;\r\n}\r\n.vue-component.collection .summaries .table td {\r\n\tvertical-align: top;\r\n}\r\n.vue-component.collection .summaries .descrption p:first-of-type {\r\n\tmargin-top: 0;\r\n}\r\n.vue-component.collection .summaries .descrption p:last-of-type {\r\n\tmargin-bottom: 0;\r\n}\r\n.vue-component.collection .summaries .table tr:hover {\r\n\tbackground-color: #f9f9f9;\r\n}\r\n</style>","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./Collection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./Collection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Collection.vue?vue&type=template&id=d35450b4&\"\nimport script from \"./Collection.vue?vue&type=script&lang=js&\"\nexport * from \"./Collection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Collection.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var Registry = {\r\n\r\n\tcreateTableColumns: null,\r\n\texternalRenderer: false,\r\n\r\n\taddExtension(prefix, spec) {\r\n\t\tFields.extensions[prefix] = _.normalizeField(spec, Fields.extensions);\r\n\t},\r\n\r\n\taddMetadataField(field, spec) {\r\n\t\tFields.metadata[field] = _.normalizeField(spec, Fields.metadata);\r\n\t},\r\n\r\n\taddMetadataFields(specs) {\r\n\t\tfor(var key in specs) {\r\n\t\t\tRegistry.addMetadataField(key, specs[key]);\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\nvar _ = {\r\n\r\n\te(str) {\r\n\t\tif (typeof str !== 'string') {\r\n\t\t\tstr = String(str);\r\n\t\t}\r\n\t\treturn str.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, '&apos;');\r\n\t},\r\n\r\n\ttoList(arr, sort = false, formatter = null) {\r\n\t\tlet list = arr;\r\n\t\tlet tag = 'ol';\r\n\t\tif (sort) {\r\n\t\t\tlist = list.slice(0).sort();\r\n\t\t\ttag = 'ul';\r\n\t\t}\r\n\t\tif (typeof formatter === 'function') {\r\n\t\t\tlist = list.map(formatter);\r\n\t\t}\r\n\t\tif (list.length === 0) {\r\n\t\t\treturn formatter(null);\r\n\t\t}\r\n\t\telse if (list.length === 1) {\r\n\t\t\treturn list[0];\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn `<${tag}><li>${list.join(\"</li><li>\")}</li></${tag}>`;\r\n\t\t}\r\n\t},\r\n\r\n\ttoLink(url, title) {\r\n\t\treturn `<a href=\"${url}\" target=\"_blank\">${title}</a>`;\r\n\t},\r\n\r\n\ttoObject(obj, formatter = null) {\r\n\t\tlet html = '<dl>';\r\n\t\tfor(let key in obj) {\r\n\t\t\t// ToDo: also convert CamelCase? but not abbreviations like \"USA\".\r\n\t\t\tlet label = _.formatKey(key, true);\r\n\t\t\tlet value = obj[key];\r\n\t\t\tif (typeof formatter === 'function') {\r\n\t\t\t\tvalue = formatter(value, key);\r\n\t\t\t}\r\n\t\t\t// TODO: Format label (also in arrays)\r\n\t\t\thtml += `<dt>${label}</dt><dd>${value}</dd>`;\r\n\t\t}\r\n\t\thtml += `</dl>`;\r\n\t\treturn html;\r\n\t},\r\n\r\n\tisObject(obj) {\r\n\t\treturn (typeof obj === 'object' && obj === Object(obj) && !Array.isArray(obj));\r\n\t},\r\n\r\n\tformatKey(key, prefix = false) {\r\n\t\tif (prefix === false) {\r\n\t\t\tkey = key.replace(/^\\w+:/i, '');\r\n\t\t}\r\n\t\treturn _.e(key).split(/[:_\\-\\s]/g).map(part => part.substr(0, 1).toUpperCase() + part.substr(1)).join(' ');\r\n\t},\r\n\r\n\tnormalizeFields(fields) {\r\n\t\tfor(let key in fields.extensions) {\r\n\t\t\tfields.extensions[key] = _.normalizeField(fields.extensions[key], fields.extensions);\r\n\t\t}\r\n\t\tfor(let key in fields.metadata) {\r\n\t\t\tfields.metadata[key] = _.normalizeField(fields.metadata[key], fields.metadata);\r\n\t\t}\r\n\t\treturn fields;\r\n\t},\r\n\r\n\tnormalizeField(spec, fields = {}) {\r\n\t\t// If just a string label is given, make a normal object with a label from it\r\n\t\tif (typeof spec === 'string') {\r\n\t\t\treturn {\r\n\t\t\t\tlabel: spec\r\n\t\t\t};\r\n\t\t}\r\n\t\t// Resolve alias\r\n\t\tif (typeof spec.alias === 'string') {\r\n\t\t\t// As we don't know whether the alias has been resolved so far, resolve it here, too.\r\n\t\t\treturn Object.assign(spec, _.normalizeField(fields[spec.alias], fields));\r\n\t\t}\r\n\r\n\t\t// Add formatting callback as `formatter`\r\n\t\tif (typeof spec.format === 'string') {\r\n\t\t\tspec.formatter = Formatters[`format${spec.format}`];\r\n\t\t}\r\n\r\n\t\t// Normalize items\r\n\t\tif (_.isObject(spec.items)) {\r\n\t\t\tif (typeof Registry.createTableColumn === 'function') {\r\n\t\t\t\tspec.columns = [];\r\n\t\t\t}\r\n\t\t\tfor(let key in spec.items) {\r\n\t\t\t\tspec.items[key] = _.normalizeField(spec.items[key], fields);\r\n\r\n\t\t\t\tif (typeof Registry.createTableColumn === 'function') {\r\n\t\t\t\t\tlet column = Registry.createTableColumn(key, spec.items[key], spec);\r\n\t\t\t\t\tif (spec.items[key].id) {\r\n\t\t\t\t\t\tspec.columns.unshift(column);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tspec.columns.push(column);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn spec;\r\n\t}\r\n\r\n};\r\n\r\nvar DataTypes = {\r\n\r\n\tarray(arr, sort = false, unit = '') {\r\n\t\treturn _.toList(arr, sort, v => DataTypes.format(v, unit));\r\n\t},\r\n\t\r\n\tobject(obj) {\r\n\t\treturn _.toObject(obj, v => DataTypes.format(v));\r\n\t},\r\n\t\r\n\tnull(label = 'n/a') {\r\n\t\treturn `<i>${label}</i>`;\r\n\t},\r\n\t\r\n\tnumber(num, unit = '') {\r\n\t\tif (typeof num !== 'number') {\r\n\t\t\tnum = parseFloat(num);\r\n\t\t}\r\n\t\treturn num.toLocaleString() + unit;\r\n\t},\r\n\r\n\tstring(str, unit = '') {\r\n\t\treturn _.e(str).replace(/(\\r\\n|\\r|\\n){2,}/g, '<br />') + unit;\r\n\t},\r\n\t\r\n\tboolean(bool) {\r\n\t\treturn bool ? '✔️' : '❌';\r\n\t},\r\n\t\r\n\tformat(value, unit = '') {\r\n\t\tif (typeof value === 'boolean') {\r\n\t\t\treturn DataTypes.boolean(value);\r\n\t\t}\r\n\t\telse if (typeof value === 'number') {\r\n\t\t\treturn DataTypes.number(value, unit);\r\n\t\t}\r\n\t\telse if (typeof value === 'string') {\r\n\t\t\treturn DataTypes.string(value, unit);\r\n\t\t}\r\n\t\telse if (Array.isArray(value)) {\r\n\t\t\treturn DataTypes.array(value, unit);\r\n\t\t}\r\n\t\telse if (_.isObject(value)) {\r\n\t\t\treturn DataTypes.object(value);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn DataTypes.null();\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\nvar Formatters = {\r\n\r\n\tformatTimestamp(value) {\r\n\t\ttry {\r\n\t\t\treturn new Date(value).toLocaleString([], {\r\n\t\t\t\ttimeZone: \"UTC\",\r\n\t\t\t\ttimeZoneName: \"short\"\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\treturn DataTypes.null();\r\n\t\t}\r\n\t},\r\n\r\n\tformatLicense(value, field, spec, context = null) {\r\n\t\tif (typeof value !== 'string' || value.length === 0) {\r\n\t\t\treturn DataTypes.null();\r\n\t\t}\r\n\r\n\t\t// We could use the spdx-license-ids and/or spdx-to-html packages previously used in STAC Browser,\r\n\t\t// but let's try it without additional dependency for now.\r\n\t\tif (value !== 'proprietary' && value !== 'various' && value.match(/^[\\w\\.\\-]+$/i)) { // SPDX\r\n\t\t\treturn _.toLink(`https://spdx.org/licenses/${value}.html`, value);\r\n\t\t}\r\n\t\t\r\n\t\tlet licenses = Array.isArray(context.links) ? context.links.filter(link => (_.isObject(link) && typeof link.href === 'string' && link.rel === 'license')) : [];\r\n\t\treturn _.toList(licenses, false, link => _.toLink(_.e(link.href), _.e(link.title || value)));\r\n\t},\r\n\r\n\tformatProviders(value) {\r\n\t\treturn _.toList(value, false, provider => {\r\n\t\t\tlet name = provider.name;\r\n\t\t\tlet roles = '';\r\n\t\t\tlet description = '';\r\n\t\t\tif (typeof provider.url === 'string' && provider.url.length > 0) {\r\n\t\t\t\tname = _.toLink(provider.url, name);\r\n\t\t\t}\r\n\t\t\tif (Array.isArray(provider.roles) && provider.roles.length > 0) {\r\n\t\t\t\troles = provider.roles.map(r => _.e(r)).join(', ');\r\n\t\t\t\troles = ` (<em>${roles}</em>)`;\r\n\t\t\t}\r\n\t\t\tif (typeof provider.description === 'string' && provider.description.length > 0) {\r\n\t\t\t\tdescription = Formatters.formatCommonMark(provider.description);\r\n\t\t\t}\r\n\t\t\treturn `${name}${roles}${description}`;\r\n\t\t});\r\n\t},\r\n\r\n\tformatCommonMark(value) {\r\n\t\tif (typeof value !== 'string' || value.length === 0) {\r\n\t\t\treturn DataTypes.null();\r\n\t\t}\r\n\t\tconst commonmark = require('commonmark');\r\n\t\tlet reader = new commonmark.Parser();\r\n\t\tlet writer = new commonmark.HtmlRenderer({safe: true, smart: true});\r\n\t\tlet html = writer.render(reader.parse(value));\r\n\t\treturn `<div class=\"descrption\">${html}</div>`;\r\n\t},\r\n\r\n\tformatSoftware(value) {\r\n\t\tif (!_.isObject(value)) {\r\n\t\t\treturn DataTypes.null();\r\n\t\t}\r\n\r\n\t\tlet list = [];\r\n\t\tfor(let software in value) {\r\n\t\t\tlet version = value[software];\r\n\t\t\tif ((typeof version === 'string' && version.length > 0) || typeof version === 'number') {\r\n\t\t\t\tlist.push(`${software} ${version}`);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlist.push(software);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn _.toList(list, true, e);\r\n\t},\r\n\r\n\tformatDOI(value) {\r\n\t\tvalue = _.e(value);\r\n\t\treturn _.toLink(`http://doi.org/${value}`, value);\r\n\t},\r\n\r\n\tformatEPSG(value) {\r\n\t\t// Remove leading 'epsg:' which people sometimes prepend\r\n\t\tif (typeof value === 'string') {\r\n\t\t\tvalue = value.replace(/^epsg:/i, '');\r\n\t\t}\r\n\t\tvalue = parseInt(value, 10);\r\n\t\tif (value > 0) {\r\n\t\t\treturn _.toLink(`http://epsg.io/${value}`, value);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn DataTypes.null();\r\n\t\t}\r\n\t},\r\n\r\n\tformatExtent(value, unit = '') {\r\n\t\tif (!Array.isArray(value) || value.length < 2 || (value[0] === null && value[1] === null)) {\r\n\t\t\treturn DataTypes.formatNull();\r\n\t\t}\r\n\t\telse if (value[0] === null) {\r\n\t\t\treturn `Until ${DataTypes.format(value[1], unit)}`;\r\n\t\t}\r\n\t\telse if (value[1] === null) {\r\n\t\t\treturn `From ${DataTypes.format(value[0], unit)}`;\r\n\t\t}\r\n\t\telse if (value[0] === value[1]) {\r\n\t\t\treturn DataTypes.format(value[0], unit);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn value.map(v => DataTypes.format(v, unit)).join(' – ');\r\n\t\t}\r\n\t},\r\n\r\n\t// Helper, not used at the moment\r\n\tformatTemporalExtent(value) {\r\n\t\tif (!Array.isArray(value) || value.length < 2 || (typeof value[0] !== 'string' && typeof value[1] !== 'string')) {\r\n\t\t\treturn DataTypes.formatNull();\r\n\t\t}\r\n\t\telse if (typeof value[0] !== 'string') {\r\n\t\t\treturn `Until ${Formatters.formatTimestamp(value[1])}`;\r\n\t\t}\r\n\t\telse if (typeof value[1] !== 'string') {\r\n\t\t\treturn `${Formatters.formatTimestamp(value[0])} until present`;\r\n\t\t}\r\n\t\telse if (value[0] === value[1]) {\r\n\t\t\treturn Formatters.formatTimestamp(value[0]);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn value.map(date => Formatters.formatTimestamp(date)).join(' - ');\r\n\t\t}\r\n\t},\r\n\r\n\tformatWKT2(value) {\r\n\t\tif (typeof value !== 'string') {\r\n\t\t\treturn DataTypes.formatNull();\r\n\t\t}\r\n\t\t\r\n\t\t// This is a VERY simplistic WKT2 formatter, which may fail to render properly in some cases.\r\n\t\tlet indent = -1;\r\n\t\tlet formatted;\r\n\t\ttry {\r\n\t\t\tformatted = value.replace(/([A-Z]+)\\[|\\]/g, (match, keyword) => {\r\n\t\t\t\tif (match === ']') {\r\n\t\t\t\t\tindent--;\r\n\t\t\t\t\treturn match;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tindent++;\r\n\t\t\t\t\tlet tabs = \"  \".repeat(indent);\r\n\t\t\t\t\treturn `\\n${tabs}${keyword}[`;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (e) {\r\n\t\t\t// In case the formatting did not work properly\r\n\t\t\t// (usually the number of [ and ] doesn't match)\r\n\t\t\t// just return the unformatted value\r\n\t\t\tformatted = value;\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\treturn `<pre>${formatted}</pre>`;\r\n\t}\r\n\r\n};\r\n\r\nfunction formatGrouped(context, prop, filter, coreKey) {\r\n\t// Group fields into extensions\r\n\tlet groups = {};\r\n\tfor(let field in context[prop]) {\r\n\t\tlet parts = field.split(':', 2);\r\n\t\tif (parts.length === 1) {\r\n\t\t\tparts.unshift(coreKey);\r\n\t\t}\r\n\t\tlet ext = parts[0];\r\n\t\tif (typeof filter === 'function' && !filter(field)) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\t// Add group if missing\r\n\t\tif (!_.isObject(groups[ext])) {\r\n\t\t\tgroups[ext] = {\r\n\t\t\t\textension: ext,\r\n\t\t\t\tlabel: extension(ext),\r\n\t\t\t\tproperties: {}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tlet value = context[prop][field];\r\n\t\tlet spec = Fields.metadata[field] || {};\r\n\r\n\t\t// Fill items with missing properties\r\n\t\t// ToDo: This just takes the first entry into account and doesn't care about the others so some fields may be missing\r\n\t\tlet items = null;\r\n\t\tif (_.isObject(spec.items) && Array.isArray(value)) {\r\n\t\t\titems = {};\r\n\t\t\tlet entry = spec.mergedArrays ? value : value[0];\r\n\t\t\tlet keys = Object.keys(entry);\r\n\t\t\tif (keys.length > 0) {\r\n\t\t\t\tObject.keys(entry[keys[0]]).forEach(key => {\r\n\t\t\t\t\tif (typeof spec.items[key] === 'undefined') {\r\n\t\t\t\t\t\titems[key] = {\r\n\t\t\t\t\t\t\tlabel: _.formatKey(key),\r\n\t\t\t\t\t\t\texplain: key\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\titems[key] = spec.items[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Format values\r\n\t\tlet formatted;\r\n\r\n\t\t// Handle summaries\r\n\t\tif (prop === 'summaries') {\r\n\t\t\t// ToDo: Migrate to RC1, where this is minimum and maximum instead of min and max\r\n\t\t\tif (_.isObject(value) && typeof value.min !== 'undefined' && typeof value.max !== 'undefined') {\r\n\t\t\t\tformatted = Formatters.formatExtent([value.min, value.max], spec.unit);\r\n\t\t\t}\r\n\t\t\telse if (Array.isArray(value)) {\r\n\t\t\t\tformatted = [];\r\n\t\t\t\tif (Registry.externalRenderer && items) {\r\n\t\t\t\t\tlet summaries = spec.mergedArrays ? [value] : value;\r\n\t\t\t\t\t// Go through each entry in a summary (this is besically a single value as defined in the Item spec)\r\n\t\t\t\t\tfor(let i1 in summaries) {\r\n\t\t\t\t\t\tlet summary = summaries[i1];\r\n\t\t\t\t\t\tformatted.push(Array.isArray(summary) ? [] : {});\r\n\t\t\t\t\t\tfor(let i2 in summary) {\r\n\t\t\t\t\t\t\tlet prop = summaries[i1][i2];\r\n\t\t\t\t\t\t\tif (Array.isArray(summary)) {\r\n\t\t\t\t\t\t\t\tformatted[i1].push(Array.isArray(prop) ? [] : {});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tformatted[i1][i2] = Array.isArray(prop) ? [] : {};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tfor(let i3 in items) {\r\n\t\t\t\t\t\t\t\tlet itemSpec = items[i3];\r\n\t\t\t\t\t\t\t\tformatted[i1][i2][i3] = format(prop[i3], i3, context, itemSpec);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tformatted = _.toList(value, !spec.custom && !spec.items, v => format(v, field, context, spec));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Fallback to \"normal\" rendering if not handled by summaries yet\r\n\t\tif (typeof formatted === 'undefined') {\r\n\t\t\tformatted = format(value, field, context, spec);\r\n\t\t}\r\n\r\n\t\tgroups[ext].properties[field] = {\r\n\t\t\tlabel: label(field),\r\n\t\t\tvalue,\r\n\t\t\tformatted,\r\n\t\t\titems,\r\n\t\t\tspec\r\n\t\t};\r\n\t}\r\n\treturn Object.values(groups).sort((a,b) => a.extension.localeCompare(b.extension));\r\n\r\n}\r\n\r\nfunction formatSummaries(collection, filter = null, coreKey = '') {\r\n\treturn formatGrouped(collection, 'summaries', filter, coreKey);\r\n}\r\n\r\nfunction formatItemProperties(item, filter = null, coreKey = '') {\r\n\treturn formatGrouped(item, 'properties', filter, coreKey);\r\n}\r\n\r\nfunction format(value, field, context = null, spec = null) {\r\n\tif (!_.isObject(spec)) {\r\n\t\tspec = Fields.metadata[field] || {};\r\n\t}\r\n\tif (typeof spec.formatter === 'function') {\r\n\t\treturn spec.formatter(value, field, spec, context) ;\r\n\t}\r\n\telse if (value === null && spec.null) {\r\n\t\treturn DataTypes.null(spec.null);\r\n\t}\r\n\telse if (Array.isArray(value)) {\r\n\t\tlet callback = v => format(v, field, context, spec);\r\n\t\tif (Registry.externalRenderer && (spec.custom || spec.items)) {\r\n\t\t\treturn value.map(callback);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn _.toList(value, false, callback);\r\n\t\t}\r\n\t}\r\n\telse if (_.isObject(value) && _.isObject(spec.items)) {\r\n\t\tlet callback = (v, k) => format(v, k, context, spec.items[k]);\r\n\t\tif (Registry.externalRenderer && (spec.custom || spec.items)) {\r\n\t\t\tlet formattedValues = {};\r\n\t\t\tfor(let key in value) {\r\n\t\t\t\tformattedValues[key] = callback(value[key]);\r\n\t\t\t}\r\n\t\t\treturn formattedValues;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn _.toObject(value, callback);\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\treturn DataTypes.format(value, spec.unit);\r\n\t}\r\n}\r\n\r\nfunction label(key, specs = null) {\r\n\tlet spec;\r\n\tif (_.isObject(specs)) {\r\n\t\tspec = specs[key] || {};\r\n\t}\r\n\telse {\r\n\t\tspec = Fields.metadata[key] || {};\r\n\t}\r\n\tif (_.isObject(spec) && typeof spec.label === 'string') {\r\n\t\tif (typeof spec.explain === 'string') {\r\n\t\t\treturn `<abbr title=\"${_.e(spec.explain)}\">${spec.label}</abbr>`;\r\n\t\t}\r\n\t\telse if (typeof spec.label === 'string') {\r\n\t\t\treturn spec.label;\r\n\t\t}\r\n\t}\r\n\treturn _.formatKey(key);\r\n}\r\n\r\nfunction extension(key) {\r\n\treturn label(key, Fields.extensions);\r\n}\r\n\r\nvar Fields = _.normalizeFields(require('./fields.json'));\r\n\r\nmodule.exports = {\r\n\tformat,\r\n\tlabel,\r\n\textension,\r\n\tformatSummaries,\r\n\tformatItemProperties,\r\n\tFields,\r\n\tRegistry,\r\n\tHelper: _,\r\n\tDataTypes,\r\n\tFormatters\r\n};"],"sourceRoot":""}