{"version":3,"sources":["webpack:///./node_modules/leaflet.antimeridian/dist/leaflet.antimeridian-src.js","webpack:///./node_modules/@openeo/vue-components/components/Collection.vue?9675","webpack:///./node_modules/@openeo/vue-components/components/Collection.vue?3ef3","webpack:///node_modules/@openeo/vue-components/components/Collection.vue","webpack:///./node_modules/@openeo/vue-components/components/Collection.vue?ef45","webpack:///./node_modules/@openeo/vue-components/components/Collection.vue","webpack:///./node_modules/@openeo/vue-components/components/internal/StacMixin.js"],"names":["global","factory","exports","this","version","sign","x","NaN","calculateAntimeridianLat","latLngA","latLngB","L","LatLng","lat","temp","A","Math","abs","lng","B","a","Error","isCrossMeridian","pushLatLng","ring","projectedBounds","latlng","map","Array","Bounds","Map","push","latLngToLayerPoint","extend","length","isBreakRing","breakRing","currentLat","nextLat","rings","breakLat","breakLatLngs","shift","pop","Polyline","_projectLatlngs","latlngs","result","isMultiRing","_createRings","i","len","compareLatLng","_getCompareLatLng","currentLatLng","_map","secondMeridianLatLng","_startNextRing","wrappedPolyline","options","Wrapped","Polygon","_checkConcaveRings","_joinLastRing","isLastLatLng","unshift","firstRing","lastRing","firstLatLng","layerPointToLatLng","middleLatLng","lastLatLng","newRing","concat","splice","wrappedPolygon","render","_vm","_h","$createElement","_c","_self","staticClass","_t","attrs","data","id","_v","_s","$props","title","_e","description","hasElements","keywords","_l","keyword","key","domProps","license","thumbnails","img","href","temporalIntervals","boundingBoxes","interval","stac","formatTemporalExtent","ref","bbox","mapOptions","provider","url","name","roles","role","r","dim","type","on","scrollToBands","axis","extent","formatExtent","isArray","values","value","step","reference_system","formatEPSG","formatWKT2","assetLinks","links","staticRenderFns","component","IMAGE_MEDIA_TYPES","IMAGE_EXTENSIONS","components","Description","DeprecationNotice","LinkList","StacFields","props","Object","default","validator","allowedTypes","height","width","wrapAroundAntimeridian","scrollWheelZoom","allowedKeys","keys","every","indexOf","computed","noWrap","undefined","isObject","assets","filter","assetIsImage","rel","join","watch","initMap","val","enableHtmlProps","methods","asset","ext","split","includes","$refs","mapContainer","$nextTick","showMap","oldL","window","leaflet","instance","geometries","hasLeaflet","validate","compare","console","warn","css","$root","$options","shadowRoot","__inject__","leafletOptions","osm","tileLayer","attribution","addTo","addFeatures","style","invalidateSize","updateMapView","onAfterMapInit","e","error","bounds","getBounds","zoom","getBoundsZoom","newZoom","min","fitBounds","setZoom","once"],"mappings":"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","file":"js/chunk-1afc2c2e.24bf2b26.js","sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.L = global.L || {}, global.L.Wrapped = {})));\n}(this, (function (exports) { 'use strict';\n\nvar version = \"1.0.0+master.7986dc5\";\n\n/*\r\n * @namespace L.Wrapped\r\n * Utility functions to perform calculations not always supported by the\r\n * standard Javascript Math namespace.\r\n */\r\n\r\n// @function sign(Number)\r\n// Returns NaN for non-numbers, 0 for 0, -1 for negative numbers,\r\n// 1 for positive numbers\r\nfunction sign(x) {\r\n\treturn typeof x === 'number' ? x ? x < 0 ? -1 : 1 : 0 : NaN;\r\n}\n\n/*\r\n * @namespace L.Wrapped\r\n * Utility functions to calculate various shared aspects of mapping a line\r\n * accross the antimeridian.\r\n */\r\n\r\n// @function calculateAntimeridianLat (latLngA: L.LatLng, latLngB: L.LatLng)\r\n// Returns the calculated latitude where a line drawn between\r\n// two Latitude/Longitude points will cross the antimeridian.\r\nfunction calculateAntimeridianLat(latLngA, latLngB) {\r\n\tif (latLngA instanceof L.LatLng && latLngB instanceof L.LatLng) {\r\n\t\t// Ensure that the latitude A is less than latidue B. This will allow the\r\n\t\t// crossing point to be calculated based on the proportional similarity of\r\n\t\t// right triangles.\r\n\r\n\t\t// Locate which latitude is lower on the map. This will be the most\r\n\t\t// accute angle of the right triangle. If the lowest latitude is not latLngA\r\n\t\t// then swap the latlngs so it is.\r\n\t\tif (latLngA.lat > latLngB.lat) {\r\n\t\t\tvar temp = latLngA;\r\n\t\t\tlatLngA = latLngB;\r\n\t\t\tlatLngB = temp;\r\n\t\t}\r\n\r\n\t\t// This gets the width of the distance between the two points\r\n\t\t// (The bottom of a large right triangle drawn between them)\r\n\t\tvar A = 360 - Math.abs(latLngA.lng - latLngB.lng);\r\n\t\t// This gets the height of the of distance between the two points\r\n\t\t// (The vertical line of a large right triange drawn between them)\r\n\t\tvar B = latLngB.lat - latLngA.lat;\r\n\t\t// This gets the bottom distance of a proportional triangle inside the large\r\n\t\t// trangle where the vertical line instead sits at the 180 mark.\r\n\t\tvar a = Math.abs(180 - Math.abs(latLngA.lng));\r\n\r\n\t\t// Because triangle with identical angles must be proportional along the sides,\r\n\t\t// find the length of the vertical side of that inner triangle and then\r\n\t\t// add it to the lower point to predict the crossing point of the Antimeridian.\r\n\t\treturn latLngA.lat + ((B * a) / A);\r\n\t} else {\r\n\t\tthrow new Error('In order to calculate the Antimeridian latitude, two valid LatLngs are required.');\r\n\t}\r\n}\r\n\r\n// @function isCrossAntimeridian(latLngA: L.LatLng, latLngB: L.LatLng)\r\n// Returns true if the line between the two points will cross either\r\n// the prime meridian (Greenwich) or its antimeridian (International Date Line)\r\nfunction isCrossMeridian(latLngA, latLngB) {\r\n\tif (latLngA instanceof L.LatLng && latLngB instanceof L.LatLng) {\r\n\t\t// Returns true if the signs are not the same.\r\n\t\treturn sign(latLngA.lng) * sign(latLngB.lng) < 0;\r\n\t} else {\r\n\t\tthrow new Error('In order to calculate whether two LatLngs cross a meridian, two valid LatLngs are required.');\r\n\t}\r\n}\r\n\r\n\r\n// @function pushLatLng(ring: L.Point[], projectedBounds: L.Bounds, latlng: L.LatLng, map: L.Map)\r\n// Adds the latlng to the current ring as a layer point and expands the projected bounds.\r\nfunction pushLatLng(ring, projectedBounds, latlng, map) {\r\n\tif (ring instanceof Array && projectedBounds instanceof L.Bounds && latlng instanceof L.LatLng && map instanceof L.Map) {\r\n\t\tring.push(map.latLngToLayerPoint(latlng));\r\n\t\tprojectedBounds.extend(ring[ring.length - 1]);\r\n\t} else {\r\n\t\tthrow new Error('In order to push a LatLng into a ring, the ring point array, the LatLng, the projectedBounds, and the map must all be valid.');\r\n\t}\r\n}\r\n\r\n// @function isBreakRing(latLngA: L.LatLng, latLngB: L.LatLng)\r\n// Determines when the ring should be broken and a new one started.\r\n// This will return true if the distance is smaller when mapped across the Antimeridian.\r\nfunction isBreakRing(latLngA, latLngB) {\r\n\tif (latLngA instanceof L.LatLng && latLngB instanceof L.LatLng) {\r\n\t\treturn isCrossMeridian(latLngA, latLngB)  &&\r\n\t\t(360 - Math.abs(latLngA.lng) - Math.abs(latLngB.lng) < 180);\r\n\r\n\t} else {\r\n\t\tthrow new Error('In order to calculate whether the ring created by two LatLngs should be broken, two valid LatLngs are required.');\r\n\t}\r\n}\r\n\r\n// @function breakRing(currentLat: L.LatLng, nextLat: L.LatLng, rings: L.Point[][],\r\n//  projectedBounds: L.Bounds, map: L.Map)\r\n// Breaks the existing ring along the anti-meridian.\r\n// returns the starting latLng for the next ring.\r\nfunction breakRing(currentLat, nextLat, rings, projectedBounds, map) {\r\n\tif (currentLat instanceof L.LatLng && nextLat instanceof L.LatLng && rings instanceof Array && projectedBounds instanceof L.Bounds && map instanceof L.Map) {\r\n\t\tvar ring = rings[rings.length - 1];\r\n\r\n\t\t// Calculate two points for the anti-meridian crossing.\r\n\t\tvar breakLat = calculateAntimeridianLat(currentLat, nextLat);\r\n\t\tvar breakLatLngs = [new L.LatLng(breakLat, 180), new L.LatLng(breakLat, -180)];\r\n\r\n\t\t// Add in first anti-meridian latlng to this ring to finish it.\r\n\t\t// Positive if positive, negative if negative.\r\n\t\tif (sign(currentLat.lng) > 0) {\r\n\t\t\tpushLatLng(ring, projectedBounds, breakLatLngs.shift(), map);\r\n\t\t} else {\r\n\t\t\tpushLatLng(ring, projectedBounds, breakLatLngs.pop(), map);\r\n\t\t}\r\n\r\n\t\t// Return the second anti-meridian latlng\r\n\t\treturn breakLatLngs.pop();\r\n\t} else {\r\n\t\tthrow new Error('In order to break a ring, all the inputs must exist and be valid.');\r\n\t}\r\n}\n\n/*\r\n * @namespace L.Wrapped\r\n * A polyline that will automatically split and wrap around the Antimeridian (Internation Date Line).\r\n */\r\nvar Polyline = L.Polyline.extend({\r\n\r\n\t// recursively turns latlngs into a set of rings with projected coordinates\r\n\t// This is the entrypoint that is called from the overriden class to change\r\n\t// the rendering.\r\n\t_projectLatlngs: function (latlngs, result, projectedBounds) {\r\n\t\tvar isMultiRing = latlngs[0] instanceof L.LatLng;\r\n\r\n\t\tif (isMultiRing) {\r\n\t\t\tthis._createRings(latlngs, result, projectedBounds);\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < latlngs.length; i++) {\r\n\t\t\t\tthis._projectLatlngs(latlngs[i], result, projectedBounds);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Creates the rings used to render the latlngs.\r\n\t_createRings: function (latlngs, rings, projectedBounds) {\r\n\t\tvar len = latlngs.length;\r\n\t\trings.push([]);\r\n\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\tvar compareLatLng = this._getCompareLatLng(i, len, latlngs);\r\n\t\t\tvar currentLatLng = latlngs[i];\r\n\r\n\t\t\tpushLatLng(rings[rings.length - 1], projectedBounds, latlngs[i], this._map);\r\n\r\n\t\t\t// If the next point to check exists, then check to see if the\r\n\t\t\t// ring should be broken.\r\n\t\t\tif (compareLatLng && isBreakRing(compareLatLng, currentLatLng)) {\r\n\t\t\t\tvar secondMeridianLatLng = breakRing(currentLatLng, compareLatLng,\r\n\t\t\t\t\trings, projectedBounds, this._map);\r\n\r\n\t\t\t\tthis._startNextRing(rings, projectedBounds, secondMeridianLatLng);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// returns the latlng to compare the current latlng to.\r\n\t_getCompareLatLng: function (i, len, latlngs) {\r\n\t\treturn (i + 1 < len) ? latlngs[i + 1] : null;\r\n\t},\r\n\r\n\t\t// Starts a new ring and adds the second meridian point.\r\n\t_startNextRing: function (rings, projectedBounds, secondMeridianLatLng) {\r\n\t\tvar ring = [];\r\n\t\trings.push(ring);\r\n\t\tpushLatLng(ring, projectedBounds, secondMeridianLatLng, this._map);\r\n\t}\r\n});\r\n\r\n// @factory L.wrappedPolyline(latlngs: LatLng[], options?: Polyline options)\r\n// Instantiates a polyline that will automatically split around the\r\n// antimeridian (Internation Date Line) if that is a shorter path.\r\nfunction wrappedPolyline(latlngs, options) {\r\n\treturn new L.Wrapped.Polyline(latlngs, options);\r\n}\n\n/*\r\n * @namespace L.Wrapped\r\n * A polygon that will automatically split and wrap around the Antimeridian (Internation Date Line).\r\n */\r\nvar Polygon = L.Polygon.extend({\r\n\r\n\t// recursively turns latlngs into a set of rings with projected coordinates\r\n\t// This is the entrypoint that is called from the overriden class to change\r\n\t// the rendering.\r\n\t_projectLatlngs: function (latlngs, result, projectedBounds) {\r\n\t\tvar isMultiRing = latlngs[0] instanceof L.LatLng;\r\n\r\n\t\tif (isMultiRing) {\r\n\t\t\tthis._createRings(latlngs, result, projectedBounds);\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < latlngs.length; i++) {\r\n\t\t\t\tthis._projectLatlngs(latlngs[i], result, projectedBounds);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Creates the rings used to render the latlngs.\r\n\t_createRings: function (latlngs, rings, projectedBounds) {\r\n\t\tvar len = latlngs.length;\r\n\t\trings.push([]);\r\n\r\n\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t// Because this is a polygon, there will always be a comparison latlng\r\n\t\t\tvar compareLatLng = this._getCompareLatLng(i, len, latlngs);\r\n\t\t\tvar currentLatLng = latlngs[i];\r\n\r\n\t\t\tpushLatLng(rings[rings.length - 1], projectedBounds, currentLatLng, this._map);\r\n\r\n\t\t\t// Check to see if the ring should be broken.\r\n\t\t\tif (isBreakRing(compareLatLng, currentLatLng)) {\r\n\t\t\t\tvar secondMeridianLatLng = breakRing(currentLatLng, compareLatLng,\r\n\t\t\t\t\trings, projectedBounds, this._map);\r\n\r\n\t\t\t\tthis._startNextRing(rings, projectedBounds, secondMeridianLatLng, i === len - 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Join the last two rings if needed.\r\n\t\tthis._checkConcaveRings(rings);\r\n\t\tthis._joinLastRing(rings, latlngs);\r\n\t},\r\n\r\n\t// Starts a new ring if needed and adds the second meridian point to the\r\n\t// correct ring.\r\n\t_startNextRing: function (rings, projectedBounds, secondMeridianLatLng, isLastLatLng) {\r\n\t\tvar ring;\r\n\t\tif (!isLastLatLng) {\r\n\t\t\tring = [];\r\n\t\t\trings.push(ring);\r\n\t\t\tpushLatLng(ring, projectedBounds, secondMeridianLatLng, this._map);\r\n\t\t} else {\r\n\t\t\t// If this is the last latlng, don't bother starting a new ring.\r\n\t\t\t// instead, join the last meridian point to the first point, to connect\r\n\t\t\t// the shape correctly.\r\n\t\t\tring = rings[0];\r\n\t\t\tring.unshift(this._map.latLngToLayerPoint(secondMeridianLatLng));\r\n\t\t\tprojectedBounds.extend(ring[0]);\r\n\t\t}\r\n\t},\r\n\r\n\t// returns the latlng to compare the current latlng to.\r\n\t_getCompareLatLng: function (i, len, latlngs) {\r\n\t\treturn (i + 1 < len) ? latlngs[i + 1] : latlngs[0];\r\n\t},\r\n\r\n\t// Joins the last ring to the first if they were accidentally disconnected by\r\n\t// crossing the anti-meridian\r\n\t_joinLastRing: function (rings, latlngs) {\r\n\t\tvar firstRing = rings[0];\r\n\t\tvar lastRing = rings[rings.length - 1];\r\n\r\n\t\t// If either the first or last latlng cross the meridian immediately, then\r\n\t\t// they will be drawn as a single line, not a polygon, since they will not be\r\n\t\t// connected to the last ring. Reconnect them.\r\n\t\tif (rings.length > 1 && (firstRing.length === 2 || lastRing.length === 2) &&\r\n\t\t\t !isCrossMeridian(latlngs[0], latlngs[latlngs.length - 1])) {\r\n\t\t\tvar len = lastRing.length;\r\n\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\tfirstRing.unshift(lastRing.pop());\r\n\t\t\t}\r\n\t\t\t// Remove the empty ring.\r\n\t\t\trings.pop();\r\n\t\t}\r\n\t},\r\n\r\n\t// Check for concave sections of the rings and join the rings if they are\r\n\t// concave\r\n\t_checkConcaveRings: function (rings) {\r\n\t\tvar firstLatLng = this._map.layerPointToLatLng(rings[0][0]);\r\n\r\n\t\tfor (var i = 0; i <= rings.length - 3; i++) {\r\n\t\t\tvar middleLatLng = this._map.layerPointToLatLng(rings[i + 1][0]);\r\n\t\t\tvar lastLatLng = this._map.layerPointToLatLng(rings[i + 2][0]);\r\n\r\n\t\t\t// If the meridian is crossed and then is crossed again\r\n\t\t\t// over the first polygon, the polygon is concave. Join the rings.\r\n\t\t\tif (isCrossMeridian(firstLatLng, middleLatLng) &&\r\n\t\t\tisCrossMeridian(middleLatLng, lastLatLng)) {\r\n\t\t\t\tvar firstRing = rings[0];\r\n\t\t\t\tvar lastRing = rings[i + 2];\r\n\r\n\t\t\t\tvar newRing = firstRing.concat(lastRing);\r\n\r\n\t\t\t\t// Remove the joined polygon and then update the first polygon.\r\n\t\t\t\trings.splice(i + 2, 1);\r\n\t\t\t\trings.splice(0, 1, newRing);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// @factory L.wrappedPolygon(latlngs: LatLng[], options?: Polygon options)\r\n// Instantiates a polygon that will automatically split around the\r\n// antimeridian (Internation Date Line) if that is a shorter path.\r\nfunction wrappedPolygon(latlngs, options) {\r\n\treturn new L.Wrapped.Polygon(latlngs, options);\r\n}\n\nexports.version = version;\nexports.Polyline = Polyline;\nexports.wrappedPolyline = wrappedPolyline;\nexports.Polygon = Polygon;\nexports.wrappedPolygon = wrappedPolygon;\nexports.calculateAntimeridianLat = calculateAntimeridianLat;\nexports.isCrossMeridian = isCrossMeridian;\nexports.isBreakRing = isBreakRing;\nexports.sign = sign;\n\n})));\n//# sourceMappingURL=leaflet.antimeridian-src.js.map\n","export * from \"-!../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../vue-loader/lib/loaders/stylePostLoader.js!../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./Collection.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"vue-component stac collection\"},[_vm._t(\"title\",[_c('a',{staticClass:\"anchor\",attrs:{\"name\":_vm.data.id}}),_c('h2',[_vm._v(_vm._s(_vm.data.id))])],null,_vm.$props),(_vm.data.title)?_c('summary',[_vm._v(_vm._s(_vm.data.title))]):_vm._e(),_vm._t(\"before-description\",null,null,_vm.$props),(_vm.data.description)?_c('section',{staticClass:\"description\"},[_c('h3',[_vm._v(\"Description\")]),_c('Description',{attrs:{\"description\":_vm.data.description}}),(_vm.data.deprecated)?_c('DeprecationNotice',{attrs:{\"entity\":\"collection\"}}):_vm._e(),(_vm.hasElements(_vm.data.keywords))?_c('div',[_c('strong',[_vm._v(\"Keywords:\")]),_vm._v(\" \"),_c('ul',{staticClass:\"comma-separated-list\"},_vm._l((_vm.data.keywords),function(keyword,i){return _c('li',{key:i},[_vm._v(_vm._s(keyword))])}),0)]):_vm._e()],1):_vm._e(),_c('section',{staticClass:\"license\"},[_c('h3',[_vm._v(\"License\")]),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.license)}})]),(_vm.thumbnails.length)?_c('section',{staticClass:\"preview\"},[_c('h3',[_vm._v(\"Previews\")]),_c('div',{staticClass:\"thumbnails\"},_vm._l((_vm.thumbnails),function(img,i){return _c('a',{key:i,attrs:{\"href\":img.href,\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":img.href,\"title\":img.title,\"alt\":img.title || 'Preview'}})])}),0)]):_vm._e(),(_vm.temporalIntervals.length || _vm.boundingBoxes.length)?_c('section',{staticClass:\"extent\"},[(_vm.temporalIntervals.length)?[_c('h3',[_vm._v(\"Temporal Extent\")]),_vm._t(\"temporal-extents\",_vm._l((_vm.temporalIntervals),function(interval,i){return _c('ul',{key:i},[_c('li',[_vm._v(_vm._s(_vm.stac.formatTemporalExtent(interval)))])])}),{\"extents\":_vm.temporalIntervals})]:_vm._e(),(_vm.boundingBoxes.length)?[_c('h3',[_vm._v(\"Spatial Extent\")]),_vm._t(\"spatial-extents\",[_c('div',{ref:\"mapContainer\",staticClass:\"map\"},[(!_vm.map)?_vm._l((_vm.boundingBoxes),function(bbox,i){return _c('ul',{key:i},[_c('li',[_vm._v(\"Latitudes: \"+_vm._s(bbox[1])+\" / \"+_vm._s(bbox[3])+\", Longitudes: \"+_vm._s(bbox[0])+\" / \"+_vm._s(bbox[2]))])])}):_vm._e()],2)],{\"extents\":_vm.boundingBoxes,\"mapOptions\":_vm.mapOptions})]:_vm._e()],2):_vm._e(),(_vm.data.providers)?_c('section',{staticClass:\"providers\"},[_c('h3',[_vm._v(\"Providers\")]),_c('ol',_vm._l((_vm.data.providers),function(provider,key){return _c('li',{key:key},[(provider.url)?_c('a',{attrs:{\"href\":provider.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(provider.name))]):[_vm._v(_vm._s(provider.name))],(_vm.hasElements(provider.roles))?[_vm._v(\" (\"),_c('ul',{staticClass:\"comma-separated-list\"},_vm._l((provider.roles),function(role,r){return _c('li',{key:r,staticClass:\"provider-role\"},[_vm._v(_vm._s(role))])}),0),_vm._v(\") \")]:_vm._e(),(provider.description)?_c('Description',{attrs:{\"description\":provider.description,\"compact\":true}}):_vm._e()],2)}),0)]):_vm._e(),(_vm.hasDimensions)?_c('section',{staticClass:\"dimensions\"},[_c('h3',[_vm._v(\"Data Cube Dimensions\")]),_c('ul',_vm._l((_vm.data['cube:dimensions']),function(dim,name){return _c('li',{key:name,staticClass:\"dimension\"},[_c('h4',[(dim.type === 'bands')?_c('a',{staticClass:\"name\",attrs:{\"href\":\"#summary_eo:bands\"},on:{\"click\":_vm.scrollToBands}},[_vm._v(_vm._s(name))]):_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(name))]),_c('ul',{staticClass:\"type badges small\"},[_c('li',{staticClass:\"badge\"},[_vm._v(_vm._s(dim.type))])])]),(dim.description)?_c('Description',{attrs:{\"description\":dim.description}}):_vm._e(),(dim.axis)?_c('div',{staticClass:\"tabular\"},[_c('label',[_vm._v(\"Axis:\")]),_c('div',{staticClass:\"value\"},[_vm._v(_vm._s(dim.axis))])]):_vm._e(),_c('div',{staticClass:\"tabular\"},[_c('label',[_vm._v(\"Labels:\")]),(dim.extent)?_c('div',{staticClass:\"value\"},[(dim.type === 'temporal')?[_vm._v(_vm._s(_vm.stac.formatTemporalExtent(dim.extent)))]:[_vm._v(_vm._s(_vm.stac.formatExtent(dim.extent)))]],2):(Array.isArray(dim.values) && dim.values.length > 0)?_c('ul',{staticClass:\"value\"},_vm._l((dim.values),function(value,i){return _c('li',{key:i},[_vm._v(_vm._s(value))])}),0):_c('div',{staticClass:\"value\"},[_c('i',[_vm._v(\"n/a\")])])]),(typeof dim.step !== 'undefined')?_c('div',{staticClass:\"tabular\"},[_c('label',[_vm._v(\"Steps:\")]),_c('div',{staticClass:\"value\"},[(dim.step === null)?[_vm._v(\"irregularly spaced\")]:[_vm._v(_vm._s(dim.step))]],2)]):_vm._e(),(typeof dim.reference_system !== 'undefined')?_c('div',{staticClass:\"tabular\"},[_c('label',[_vm._v(\"Reference System:\")]),_c('div',{staticClass:\"value\"},[(typeof dim.reference_system === 'number')?_c('div',{staticClass:\"epsg\",domProps:{\"innerHTML\":_vm._s(_vm.stac.formatEPSG(dim.reference_system))}}):(typeof dim.reference_system === 'string')?_c('div',{staticClass:\"wkt2\",domProps:{\"innerHTML\":_vm._s(_vm.stac.formatWKT2(dim.reference_system))}}):(typeof dim.reference_system === 'object')?_c('ObjectTree',{attrs:{\"data\":dim.reference_system}}):[_vm._v(_vm._s(dim.reference_system))]],2)]):_vm._e()],1)}),0)]):_vm._e(),_c('StacFields',{staticClass:\"summaries\",attrs:{\"metadata\":_vm.data}}),_c('section',{staticClass:\"assets\"},[_c('LinkList',{attrs:{\"links\":_vm.assetLinks,\"heading\":\"Assets\",\"headingTag\":\"h3\"}})],1),_c('section',{staticClass:\"links\"},[_c('LinkList',{attrs:{\"links\":_vm.data.links,\"heading\":\"See Also\",\"headingTag\":\"h3\",\"ignoreRel\":['self', 'parent', 'root', 'license', 'cite-as']}})],1),_vm._t(\"end\",null,null,_vm.$props)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<article class=\"vue-component stac collection\">\r\n\r\n\t\t<slot name=\"title\" v-bind=\"$props\">\r\n\t\t\t<a class=\"anchor\" :name=\"data.id\"></a>\r\n\t\t\t<h2>{{ data.id }}</h2>\r\n\t\t</slot>\r\n\r\n\t\t<summary v-if=\"data.title\">{{ data.title }}</summary>\r\n\r\n\t\t<slot name=\"before-description\" v-bind=\"$props\"></slot>\r\n\r\n\t\t<section class=\"description\" v-if=\"data.description\">\r\n\t\t\t<h3>Description</h3>\r\n\r\n\t\t\t<Description :description=\"data.description\"></Description>\r\n\r\n\t\t\t<DeprecationNotice v-if=\"data.deprecated\" entity=\"collection\" />\r\n\r\n\t\t\t<div v-if=\"hasElements(data.keywords)\">\r\n\t\t\t\t<strong>Keywords:</strong>&nbsp;\r\n\t\t\t\t<ul class=\"comma-separated-list\">\r\n\t\t\t\t\t<li v-for=\"(keyword, i) in data.keywords\" :key=\"i\">{{ keyword }}</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"license\">\r\n\t\t\t<h3>License</h3>\r\n\t\t\t<span v-html=\"license\" />\r\n\t\t</section>\r\n\r\n\t\t<section class=\"preview\" v-if=\"thumbnails.length\">\r\n\t\t\t<h3>Previews</h3>\r\n\t\t\t<div class=\"thumbnails\">\r\n\t\t\t\t<a v-for=\"(img, i) in thumbnails\" :key=\"i\" :href=\"img.href\" target=\"_blank\">\r\n\t\t\t\t\t<img :src=\"img.href\" :title=\"img.title\" :alt=\"img.title || 'Preview'\" />\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"extent\" v-if=\"temporalIntervals.length || boundingBoxes.length\">\r\n\t\t\t<template v-if=\"temporalIntervals.length\">\r\n\t\t\t\t<h3>Temporal Extent</h3>\r\n\t\t\t\t<slot name=\"temporal-extents\" :extents=\"temporalIntervals\">\r\n\t\t\t\t\t<ul v-for=\"(interval, i) in temporalIntervals\" :key=\"i\">\r\n\t\t\t\t\t\t<li>{{ stac.formatTemporalExtent(interval) }}</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</slot>\r\n\t\t\t</template>\r\n\t\t\r\n\t\t\t<template v-if=\"boundingBoxes.length\">\r\n\t\t\t<h3>Spatial Extent</h3>\r\n\t\t\t\t<slot name=\"spatial-extents\" :extents=\"boundingBoxes\" :mapOptions=\"mapOptions\">\r\n\t\t\t\t\t<div class=\"map\" ref=\"mapContainer\">\r\n\t\t\t\t\t\t<template v-if=\"!map\">\r\n\t\t\t\t\t\t\t<ul v-for=\"(bbox, i) in boundingBoxes\" :key=\"i\">\r\n\t\t\t\t\t\t\t\t<li>Latitudes: {{ bbox[1] }} / {{ bbox[3] }}, Longitudes: {{ bbox[0] }} / {{ bbox[2] }}</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</slot>\r\n\t\t\t</template>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"providers\" v-if=\"data.providers\">\r\n\t\t\t<h3>Providers</h3>\r\n\t\t\t<ol>\r\n\t\t\t\t<li v-for=\"(provider, key) in data.providers\" :key=\"key\">\r\n\t\t\t\t\t<a v-if=\"provider.url\" :href=\"provider.url\" target=\"_blank\">{{ provider.name }}</a>\r\n\t\t\t\t\t<template v-else>{{ provider.name }}</template>\r\n\t\t\t\t\t<template v-if=\"hasElements(provider.roles)\">\r\n\t\t\t\t\t\t(<ul class=\"comma-separated-list\">\r\n\t\t\t\t\t\t\t<li v-for=\"(role, r) in provider.roles\" :key=\"r\" class=\"provider-role\">{{ role }}</li>\r\n\t\t\t\t\t\t</ul>)\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<Description v-if=\"provider.description\" :description=\"provider.description\" :compact=\"true\" />\r\n\t\t\t\t</li>\r\n\t\t\t</ol>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"dimensions\" v-if=\"hasDimensions\">\r\n\t\t\t<h3>Data Cube Dimensions</h3>\r\n\t\t\t<ul>\r\n\t\t\t\t<li v-for=\"(dim, name) in data['cube:dimensions']\" :key=\"name\" class=\"dimension\">\r\n\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t<a v-if=\"dim.type === 'bands'\" @click=\"scrollToBands\" class=\"name\" href=\"#summary_eo:bands\">{{ name }}</a>\r\n\t\t\t\t\t\t<span v-else class=\"name\">{{ name }}</span>\r\n\t\t\t\t\t\t<ul class=\"type badges small\"><li class=\"badge\">{{ dim.type }}</li></ul>\r\n\t\t\t\t\t</h4>\r\n\t\t\t\t\t<Description v-if=\"dim.description\" :description=\"dim.description\" />\r\n\t\t\t\t\t<div class=\"tabular\" v-if=\"dim.axis\">\r\n\t\t\t\t\t\t<label>Axis:</label>\r\n\t\t\t\t\t\t<div class=\"value\">{{ dim.axis }}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"tabular\">\r\n\t\t\t\t\t\t<label>Labels:</label>\r\n\t\t\t\t\t\t<div v-if=\"dim.extent\" class=\"value\">\r\n\t\t\t\t\t\t\t<template v-if=\"dim.type === 'temporal'\">{{ stac.formatTemporalExtent(dim.extent) }}</template>\r\n\t\t\t\t\t\t\t<template v-else>{{ stac.formatExtent(dim.extent) }}</template>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ul v-else-if=\"Array.isArray(dim.values) && dim.values.length > 0\" class=\"value\">\r\n\t\t\t\t\t\t\t<li v-for=\"(value, i) in dim.values\" :key=\"i\">{{ value }}</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<div v-else class=\"value\"><i>n/a</i></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"tabular\" v-if=\"typeof dim.step !== 'undefined'\">\r\n\t\t\t\t\t\t<label>Steps:</label>\r\n\t\t\t\t\t\t<div class=\"value\">\r\n\t\t\t\t\t\t\t<template v-if=\"dim.step === null\">irregularly spaced</template>\r\n\t\t\t\t\t\t\t<template v-else>{{ dim.step }}</template>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"tabular\" v-if=\"typeof dim.reference_system !== 'undefined'\">\r\n\t\t\t\t\t\t<label>Reference System:</label>\r\n\t\t\t\t\t\t<div class=\"value\">\r\n\t\t\t\t\t\t\t<div class=\"epsg\" v-if=\"typeof dim.reference_system === 'number'\" v-html=\"stac.formatEPSG(dim.reference_system)\" />\r\n\t\t\t\t\t\t\t<div class=\"wkt2\" v-else-if=\"typeof dim.reference_system === 'string'\" v-html=\"stac.formatWKT2(dim.reference_system)\" />\r\n\t\t\t\t\t\t\t<ObjectTree v-else-if=\"typeof dim.reference_system === 'object'\" :data=\"dim.reference_system\" />\r\n\t\t\t\t\t\t\t<template v-else>{{ dim.reference_system }}</template>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</section>\r\n\r\n\t\t<StacFields class=\"summaries\" :metadata=\"data\" />\r\n\r\n\t\t<section class=\"assets\">\r\n\t\t\t<LinkList :links=\"assetLinks\" heading=\"Assets\" headingTag=\"h3\" />\r\n\t\t</section>\r\n\r\n\t\t<section class=\"links\">\r\n\t\t\t<LinkList :links=\"data.links\" heading=\"See Also\" headingTag=\"h3\" :ignoreRel=\"['self', 'parent', 'root', 'license', 'cite-as']\" />\r\n\t\t</section>\r\n\r\n\t\t<slot name=\"end\" v-bind=\"$props\"></slot>\r\n\r\n\t</article>\r\n</template>\r\n\r\n<script>\r\nimport Utils from '../utils';\r\nimport { Formatters } from '@radiantearth/stac-fields';\r\nimport StacMixin from './internal/StacMixin.js';\r\n\r\nexport default {\r\n\tname: 'Collection',\r\n\tcomponents: {\r\n\t\tObjectTree: () => import('./ObjectTree.vue')\r\n\t},\r\n\tmixins: [StacMixin],\r\n\t// Mixins don't work properly in web components,\r\n\t// see https://github.com/vuejs/vue-web-component-wrapper/issues/30\r\n\tprops: {...StacMixin.props},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tstac: Formatters\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tshowMap() {\r\n\t\t\treturn this.boundingBoxes.length !== 0;\r\n\t\t},\r\n\t\ttemporalIntervals() {\r\n\t\t\tlet e = this.data.extent;\r\n\t\t\tif (Utils.isObject(e) && Utils.isObject(e.temporal) && Utils.size(e.temporal.interval) > 0) {\r\n\t\t\t\treturn e.temporal.interval.filter(interval => Array.isArray(interval) && interval.length >= 2);\r\n\t\t\t}\r\n\t\t\treturn [];\r\n\t\t},\r\n\t\tboundingBoxes() {\r\n\t\t\tlet e = this.data.extent;\r\n\t\t\tif (Utils.isObject(e) && Utils.isObject(e.spatial) && Utils.size(e.spatial.bbox) > 0) {\r\n\t\t\t\treturn e.spatial.bbox.filter(bbox => Array.isArray(bbox) && bbox.length >= 4);\r\n\t\t\t}\r\n\t\t\treturn [];\r\n\t\t},\r\n\t\thasDimensions() {\r\n\t\t\treturn Utils.size(this.data['cube:dimensions']) > 0;\r\n\t\t},\r\n\t\tlicense() {\r\n\t\t\tif (typeof this.data.license !== 'string' || this.data.license.length === 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn Formatters.formatLicense(this.data.license, null, null, this.data);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\taddFeatures() {\r\n\t\t\ttry {\r\n\t\t\t\tL.Wrapped = require('leaflet.antimeridian');\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.warn(`Leaflet Antimeridian plugin is not available: ${error.message}`);\r\n\t\t\t}\r\n\t\t\tlet features = L.featureGroup();\r\n\t\t\tfor(let bbox of this.boundingBoxes) {\r\n\t\t\t\tlet p = [[bbox[1], bbox[0]], [bbox[3], bbox[0]], [bbox[3], bbox[2]], [bbox[1], bbox[2]]];\r\n\t\t\t\tlet geom;\r\n\t\t\t\tif (L.Wrapped && bbox[2] < bbox[0]) {\r\n\t\t\t\t\tgeom = new L.Wrapped.Polygon(p);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tgeom = L.polygon(p);\r\n\t\t\t\t}\r\n\t\t\t\tgeom.setStyle({\r\n\t\t\t\t\tcolor: '#3388ff',\r\n\t\t\t\t\tfillOpacity: 0.2\r\n\t\t\t\t});\r\n\t\t\t\tfeatures.addLayer(geom);\r\n\t\t\t}\r\n\t\t\treturn features;\r\n\t\t},\r\n\t\tscrollToBands(evt) {\r\n\t\t\tlet elem = this.$el.querySelector('#field_eo\\\\:bands');\r\n\t\t\tif (elem) {\r\n\t\t\t\telem.scrollIntoView();\r\n\t\t\t\telem.classList.add('highlight-box');\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\telem.classList.remove('highlight-box');\r\n\t\t\t\t}, 5000);\r\n\t\t\t}\r\n\t\t\tevt.preventDefault();\r\n\t\t},\r\n\t\thasElements(data) {\r\n\t\t\treturn (typeof data === 'object' && data !== null && Object.keys(data).length > 0);\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n@import url('./base.css');\r\n\r\n.vue-component.collection .dimension h4 {\r\n\tmargin: 0;\r\n}\r\n.vue-component.collection .dimension .type {\r\n\tfont-weight: normal;\r\n\tfont-size: 90%;\r\n\tmargin-left: 0.5em;\r\n}\r\n.vue-component.collection .dimension label {\r\n\tfont-weight: normal;\r\n}\r\n.vue-component.collection .provider-role {\r\n\ttext-transform: capitalize;\r\n}\r\n</style>","import mod from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./Collection.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../cache-loader/dist/cjs.js??ref--12-0!../../../thread-loader/dist/cjs.js!../../../babel-loader/lib/index.js!../../../cache-loader/dist/cjs.js??ref--0-0!../../../vue-loader/lib/index.js??vue-loader-options!./Collection.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Collection.vue?vue&type=template&id=2971c461&\"\nimport script from \"./Collection.vue?vue&type=script&lang=js&\"\nexport * from \"./Collection.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Collection.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Utils from '../../utils';\r\nimport Versions from '@openeo/js-commons/src/versions';\r\n\r\nconst IMAGE_MEDIA_TYPES = ['image/apng', 'image/gif', 'image/png', 'image/jpeg', 'image/webp'];\r\nconst IMAGE_EXTENSIONS = ['gif', 'png', 'jpg', 'jpeg', 'webp'];\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tDescription: () => import('../Description.vue'),\r\n\t\tDeprecationNotice: () => import('../DeprecationNotice.vue'),\r\n\t\tLinkList: () => import('../LinkList.vue'),\r\n\t\tStacFields: () => import('../internal/StacFields.vue')\r\n\t},\r\n\tprops: {\r\n\t\tdata: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({})\r\n\t\t},\r\n\t\tmapOptions: {\r\n\t\t\t// It's not possible to specify defaults for the individual properties, therefore this prop is only accessed through a computed property which adds them in.\r\n\t\t\ttype: Object,\r\n\t\t\t// Default values will be set in computed.leafletOptions\r\n\t\t\tdefault: () => ({}),\r\n\t\t\tvalidator: function(value) {\r\n\t\t\t\tconst allowedTypes = {  // keep in sync with Readme\r\n\t\t\t\t\theight: \"string\",\r\n\t\t\t\t\twidth: \"string\",\r\n\t\t\t\t\twrapAroundAntimeridian: \"boolean\",\r\n\t\t\t\t\tscrollWheelZoom: \"boolean\"\r\n\t\t\t\t};\r\n\t\t\t\tconst allowedKeys = Object.keys(allowedTypes);\r\n\t\t\t\treturn typeof value == 'object' && Object.keys(value).every(key =>\r\n\t\t\t\t\tallowedKeys.indexOf(key) != -1 && typeof value[key] == allowedTypes[key]\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmap: null\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tleafletOptions() {\r\n\t\t\treturn {  // keep in sync with Readme\r\n\t\t\t\theight: this.mapOptions.height || \"300px\",\r\n\t\t\t\twidth: this.mapOptions.width || \"auto\",\r\n\t\t\t\tnoWrap: this.mapOptions.wrapAroundAntimeridian === undefined ? true : !this.mapOptions.wrapAroundAntimeridian,  // negate!\r\n\t\t\t\tscrollWheelZoom: this.mapOptions.scrollWheelZoom === undefined ? false : this.mapOptions.scrollWheelZoom\r\n\t\t\t}\r\n\t\t},\r\n\t\tassetLinks() {\r\n\t\t\tif (!Utils.isObject(this.data.assets)) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn Object.values(this.data.assets)\r\n\t\t\t\t// Remove all thumbnails (covered by separate thumbnails viewer)\r\n\t\t\t\t.filter(a => !this.assetIsImage(a))\r\n\t\t\t\t// Convert from asset to links so that LinkList can be used\r\n\t\t\t\t.map(a => {\r\n\t\t\t\t\tif (Array.isArray(a.role) && a.roles.length > 0) {\r\n\t\t\t\t\t\ta.rel = a.roles.join(' ');\r\n\t\t\t\t\t\tdelete a.roles;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn a;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tthumbnails() {\r\n\t\t\tif (!Utils.isObject(this.data.assets)) {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t\treturn Object.values(this.data.assets).filter(this.assetIsImage);\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tdata() {\r\n\t\t\tthis.initMap();\r\n\t\t},\r\n\t\tshowMap(val) {\r\n\t\t\tif (val) {\r\n\t\t\t\tthis.initMap();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tbeforeCreate() {\r\n\t\tUtils.enableHtmlProps(this);\r\n\t},\r\n\tmounted() {\r\n\t\tthis.initMap();\r\n\t},\r\n\tmethods: {\r\n\t\tassetIsImage(asset) {\r\n\t\t\tlet ext = typeof asset.href === 'string' ? asset.href.split('.').pop() : '';\r\n\t\t\treturn Array.isArray(asset.roles) && \r\n\t\t\t\t(asset.roles.includes('thumbnail') || asset.roles.includes('overview')) && \r\n\t\t\t\t(IMAGE_MEDIA_TYPES.includes(asset.type) || IMAGE_EXTENSIONS.includes(ext));\r\n\t\t},\r\n\t\tinitLeafletPlugins() {\r\n\t\t\t// To be implemented in Collection/Item, if required.\r\n\t\t},\r\n\t\tasync initMap() {\r\n\t\t\tif (!this.$refs.mapContainer) {\r\n\t\t\t\tawait this.$nextTick();\r\n\t\t\t}\r\n\t\t\tif (!this.$refs.mapContainer || this.map !== null || !this.showMap) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t// Only use the L for leaflet temporarily and release it later again\r\n\t\t\tlet oldL = window.L;\r\n\t\t\ttry {\r\n\t\t\t\tthis.map = {\r\n\t\t\t\t\tleaflet: null,\r\n\t\t\t\t\tinstance: null,\r\n\t\t\t\t\tgeometries: null\r\n\t\t\t\t};\r\n\t\t\t\t// Leaflet no conflict fix: Try to re-use an already available instance of Leaflet to avoid\r\n\t\t\t\t// conflicts with other libraries such as ipyleaflet. Also, use L variable as long as initMap\r\n\t\t\t\t// is running. For all other cases store Leaflet in this.map.leaflet, which can be used in other places.\r\n\t\t\t\tlet hasLeaflet = () => Utils.isObject(window.L) && Versions.validate(window.L.version) && Versions.compare(window.L.version, \"1.x.x\", \"=\");\r\n\t\t\t\tif (!hasLeaflet()) {\r\n\t\t\t\t\twindow.L = require('leaflet');\r\n\t\t\t\t}\r\n\t\t\t\tif (!hasLeaflet()) {\r\n\t\t\t\t\tconsole.warn(\"Leaflet is not available\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.map.leaflet = window.L;\r\n\r\n\t\t\t\tlet css = await import('leaflet/dist/leaflet.css');\r\n\t\t\t\t// In Web Component mode inject the CSS into the shadowroot\r\n\t\t\t\tif (this.$root && this.$root.$options.shadowRoot && css.__inject__) {\r\n\t\t\t\t\tcss.__inject__(this.$root.$options.shadowRoot);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar map = this.map.leaflet.map(this.$refs.mapContainer, {scrollWheelZoom: this.leafletOptions.scrollWheelZoom});\r\n\t\t\t\tthis.map.instance = map;\r\n\t\t\t\tvar osm = this.map.leaflet.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n\t\t\t\t\tname: 'OpenStreetMap',\r\n\t\t\t\t\tattribution: 'Map data &copy; <a href=\"http://www.osm.org\">OpenStreetMap</a>',\r\n\t\t\t\t\tnoWrap: this.leafletOptions.noWrap\r\n\t\t\t\t});\r\n\t\t\t\tosm.addTo(map);\r\n\r\n\t\t\t\tif (typeof this.addFeatures === 'function') {\r\n\t\t\t\t\tthis.map.geometries = this.addFeatures();\r\n\t\t\t\t\tif (this.map.geometries) {\r\n\t\t\t\t\t\tthis.map.geometries.addTo(map);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Update map container in DOM\r\n\t\t\t\tthis.$refs.mapContainer.style.width = this.leafletOptions.width;\r\n\t\t\t\tthis.$refs.mapContainer.style.height = this.leafletOptions.height;\r\n\t\t\t\tmap.invalidateSize(false);\r\n\t\t\t\tthis.updateMapView();\r\n\r\n\t\t\t\tif (typeof this.mapOptions.onAfterMapInit === 'function') {\r\n\t\t\t\t\ttypeof this.mapOptions.onAfterMapInit(map, this.map.geometries);\r\n\t\t\t\t}\r\n\t\t\t\t// Leaflet no conflict fix: Release L global variable again\r\n\t\t\t\twindow.L = oldL;\r\n\t\t\t\treturn true;\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(e);\r\n\t\t\t\t// Leaflet no conflict fix: Release L global variable again\r\n\t\t\t\twindow.L = oldL;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateMapView() {\r\n\t\t\tif (!this.map || !this.map.geometries) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Compute somewhat smart map extent and zoom level around bbox\r\n\t\t\tvar bounds = this.map.geometries.getBounds();\r\n\t\t\tvar zoom = this.map.instance.getBoundsZoom(bounds);\r\n\t\t\tvar newZoom = Math.min(zoom, 11); // Never zoom closer than 8\r\n\t\t\tif (zoom > 8) {\r\n\t\t\t\tnewZoom = newZoom - 3; // Zoom out three levels\r\n\t\t\t}\r\n\t\t\telse if (zoom > 5) {\r\n\t\t\t\tnewZoom = newZoom - 2; // Zoom out two levels\r\n\t\t\t}\r\n\t\t\telse if (zoom > 2) {\r\n\t\t\t\tnewZoom--; // Zoom out one level\r\n\t\t\t}\r\n\t\t\tthis.map.instance.fitBounds(bounds);\r\n\t\t\tthis.map.instance.setZoom(newZoom);\r\n\r\n\t\t\tthis.map.instance.once('moveend zoomend', () => this.map.instance.invalidateSize(false));\r\n\t\t}\r\n\t}\r\n};"],"sourceRoot":""}